Loading required package: docopt
Loading required package: methods
Loading required package: plyr
Loading required package: dplyr

Attaching package: ‘dplyr’

The following objects are masked from ‘package:plyr’:

    arrange, count, desc, failwith, id, mutate, rename, summarise,
    summarize

The following objects are masked from ‘package:stats’:

    filter, lag

The following objects are masked from ‘package:base’:

    intersect, setdiff, setequal, union

Loading required package: tidyr
Loading required package: lme4
Loading required package: Matrix

Attaching package: ‘Matrix’

The following object is masked from ‘package:tidyr’:

    expand

Loading required package: rstan
Loading required package: ggplot2
Loading required package: StanHeaders
rstan (Version 2.12.1, packaged: 2016-09-11 13:07:50 UTC, GitRev: 85f7a56811da)
For execution on a local, multicore CPU with excess RAM we recommend calling
rstan_options(auto_write = TRUE)
options(mc.cores = parallel::detectCores())

Attaching package: ‘rstan’

The following object is masked from ‘package:tidyr’:

    extract

Loading required package: foreach
Loading required package: doParallel
Loading required package: iterators
Loading required package: parallel
Loading required package: survey
Loading required package: grid

Attaching package: ‘survey’

The following object is masked from ‘package:graphics’:

    dotchart

Loading required package: sampling
List of 4
 $ simno       : chr "1"
 $ use_sizes   : chr "0"
 $ outcome_type: chr "continuous"
 $ numclusters : chr "100"
NULL
[1] "simno"        "use_sizes"    "outcome_type" "numclusters" 
[1] "Assigning 1 to simno"
[1] "Assigning 0 to use_sizes"
[1] "Assigning continuous to outcome_type"
[1] "Assigning 100 to numclusters"
[1] "use sizes, outcome type: 0 continuous"
Running in parallel for 5 clusters, 0.05 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 09:23:19 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 5, num.units = 0.05"
[1] "2017-05-04 09:23:20 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] sampling_2.8         survey_3.30-3        doParallel_1.0.10   
 [4] iterators_1.0.8      foreach_1.4.3        rstan_2.12.1        
 [7] StanHeaders_2.12.0-1 ggplot2_2.2.1        lme4_1.1-12         
[10] Matrix_1.2-7.1       tidyr_0.6.0          dplyr_0.5.0         
[13] plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] Rcpp_0.12.6      magrittr_1.5     splines_3.3.3    MASS_7.3-45     
 [5] munsell_0.4.2    colorspace_1.2-4 lattice_0.20-34  R6_2.1.1        
 [9] minqa_1.2.4      stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13  
[13] nlme_3.1-131     gtable_0.1.2     DBI_0.4-1        lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    stringi_1.1.2    scales_0.4.1    
[25] stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:23:20 EDT"
/vega/stats/users/smm2253/rpackages/StanHeaders/include/stan/math/rev/core/set_zero_all_adjoints.hpp:14: warning: ‘void stan::math::set_zero_all_adjoints()’ defined but not used
List of 6
 $ J         : num 100
 $ K         : num 5
 $ n         : num 169
 $ x         : num [1:169] 8.52 -4.48 5.52 3.52 2.52 ...
 $ y         : num [1:169] 0.4283 2.762 2.1113 1.3909 0.0684 ...
 $ cluster_id: int [1:169] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 5pct, model cluster_inds_only"
[1] "2017-05-04 09:23:41 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 0.77 seconds (Warm-up)
               0.31 seconds (Sampling)
               1.08 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 0.97 seconds (Warm-up)
               0.24 seconds (Sampling)
               1.21 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 0.74 seconds (Warm-up)
               0.29 seconds (Sampling)
               1.03 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.08 seconds (Warm-up)
               0.27 seconds (Sampling)
               1.35 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:23:46 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:23:47 EDT"
[1] "done making samps"
[1] "2017-05-04 09:23:47 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:23:47 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:23:47 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:23:47 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.36345 -0.00215 0.77638 0.32601 0.70445
 $ se_mean: num  0.01373 0.005349 0.016545 0.00667 0.000914
 $ sd     : num  0.3649 0.158 0.4308 0.1853 0.0409
 $ 2.5%   : num  0.558 -0.349 0.326 0.135 0.631
 $ 25%    : num  1.1718 -0.0794 0.4976 0.2122 0.675
 $ 50%    : num  1.40244 0.00643 0.65789 0.27312 0.70212
 $ 75%    : num  1.5991 0.0868 0.914 0.3769 0.732
 $ 97.5%  : num  2.004 0.305 1.897 0.821 0.788
 $ n_eff  : num  706 873 678 772 2000
 $ Rhat   : num  1.003 0.999 1.001 1.004 0.999
NULL
[1] "summarizing draws"
      mean        sd      p025      p25      p50      p75     p975    truth
1 1.364737 0.3485725 0.5721589 1.188713 1.405157 1.576799 1.978908 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 5, num.units = 0.05"
[1] "2017-05-04 09:23:50 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        lazyeval_0.2.0   assertthat_0.1  
[17] tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4     codetools_0.2-15
[21] inline_0.3.13    labeling_0.2     stringi_1.1.2    scales_0.4.1    
[25] stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:23:51 EDT"
/vega/stats/users/smm2253/rpackages/StanHeaders/include/stan/math/rev/core/set_zero_all_adjoints.hpp:14: warning: ‘void stan::math::set_zero_all_adjoints()’ defined but not used
List of 8
 $ J            : num 100
 $ K            : num 5
 $ n            : num 169
 $ x            : num [1:169] 8.52 -4.48 5.52 3.52 2.52 ...
 $ y            : num [1:169] 0.4283 2.762 2.1113 1.3909 0.0684 ...
 $ cluster_id   : int [1:169] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 509 610 420 339 1528
 $ log_Nj_sample: num [1:5] 0.2253 0.4063 0.0331 -0.1812 1.3245
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 5pct, model negbin"
[1] "2017-05-04 09:24:11 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.06 seconds (Warm-up)
               0.45 seconds (Sampling)
               2.51 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.84 seconds (Warm-up)
               0.51 seconds (Sampling)
               2.35 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.9 seconds (Warm-up)
               0.69 seconds (Sampling)
               2.59 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.02 seconds (Warm-up)
               0.45 seconds (Sampling)
               2.47 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:24:21 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:24:22 EDT"
[1] "done making samps"
[1] "2017-05-04 09:24:22 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:24:23 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:24:23 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:24:23 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.3726 -0.1157 0.0587 -0.1114 0.8368 ...
 $ se_mean: num  0.01471 0.01625 0.00773 0.01127 0.01649 ...
 $ sd     : num  0.45 0.545 0.225 0.332 0.49 ...
 $ 2.5%   : num  0.214 -1.111 -0.408 -0.784 0.316 ...
 $ 25%    : num  1.165 -0.485 -0.06 -0.284 0.515 ...
 $ 50%    : num  1.4523 -0.1522 0.0556 -0.1165 0.7109 ...
 $ 75%    : num  1.6647 0.1887 0.1782 0.0617 1.0077 ...
 $ 97.5%  : num  2.042 1.118 0.532 0.589 2.1 ...
 $ n_eff  : num  936 1124 845 866 883 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 56057.903500 1.454037e+04 2.946405e+04 46322.500000 55356.500000
2 ybar_new     1.331313 4.239463e-01 2.581915e-01     1.137381     1.378644
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 5, num.units = 0.05"
[1] "2017-05-04 09:25:10 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:25:10 EDT"
/vega/stats/users/smm2253/rpackages/StanHeaders/include/stan/math/rev/core/set_zero_all_adjoints.hpp:14: warning: ‘void stan::math::set_zero_all_adjoints()’ defined but not used
List of 8
 $ J            : num 100
 $ K            : num 5
 $ n            : num 169
 $ x            : num [1:169] 8.52 -4.48 5.52 3.52 2.52 ...
 $ y            : num [1:169] 0.4283 2.762 2.1113 1.3909 0.0684 ...
 $ cluster_id   : int [1:169] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 509 610 420 339 1528
 $ log_Nj_sample: num [1:5] 0.2253 0.4063 0.0331 -0.1812 1.3245
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 5pct, model lognormal"
[1] "2017-05-04 09:25:31 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.06 seconds (Warm-up)
               0.63 seconds (Sampling)
               2.69 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.62 seconds (Warm-up)
               1.01 seconds (Sampling)
               2.63 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.29 seconds (Warm-up)
               0.45 seconds (Sampling)
               1.74 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.26 seconds (Warm-up)
               0.57 seconds (Sampling)
               1.83 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:25:40 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:25:40 EDT"
[1] "done making samps"
[1] "2017-05-04 09:25:40 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:25:41 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:25:41 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:25:41 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.366 -0.121 0.05 -0.123 0.855 ...
 $ se_mean: num  0.01926 0.01801 0.00773 0.00976 0.01876 ...
 $ sd     : num  0.477 0.584 0.227 0.316 0.513 ...
 $ 2.5%   : num  0.117 -1.174 -0.396 -0.795 0.311 ...
 $ 25%    : num  1.1598 -0.4737 -0.0623 -0.2824 0.5117 ...
 $ 50%    : num  1.4448 -0.1681 0.0497 -0.1211 0.7152 ...
 $ 75%    : num  1.6672 0.2032 0.1643 0.0442 1.017 ...
 $ 97.5%  : num  2.105 1.171 0.527 0.55 2.275 ...
 $ n_eff  : num  612 1051 865 1049 749 ...
 $ Rhat   : num  1 1 1.01 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd          p025          p25          p50
     <chr>        <dbl>        <dbl>         <dbl>        <dbl>        <dbl>
1    N_new 43339.376014 1.930802e+04 5410.24208421 31131.229128 44081.247925
2 ybar_new     1.291309 6.077415e-01   -0.04083658     1.060054     1.347787
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 5, num.units = 0.05"
[1] "2017-05-04 09:26:19 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:26:19 EDT"
/vega/stats/users/smm2253/rpackages/StanHeaders/include/stan/math/rev/core/set_zero_all_adjoints.hpp:14: warning: ‘void stan::math::set_zero_all_adjoints()’ defined but not used
List of 8
 $ J            : num 100
 $ K            : num 5
 $ n            : num 169
 $ x            : num [1:169] 8.52 -4.48 5.52 3.52 2.52 ...
 $ y            : num [1:169] 0.4283 2.762 2.1113 1.3909 0.0684 ...
 $ cluster_id   : int [1:169] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 509 610 420 339 1528
 $ log_Nj_sample: num [1:5] 0.2253 0.4063 0.0331 -0.1812 1.3245
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 5pct, model knowsizes"
[1] "2017-05-04 09:26:37 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.09 seconds (Warm-up)
               0.32 seconds (Sampling)
               1.41 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.55 seconds (Warm-up)
               0.34 seconds (Sampling)
               1.89 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.08 seconds (Warm-up)
               0.33 seconds (Sampling)
               1.41 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1 seconds (Warm-up)
               0.32 seconds (Sampling)
               1.32 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:26:43 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:26:44 EDT"
[1] "done making samps"
[1] "2017-05-04 09:26:44 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:26:45 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:26:45 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:26:45 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.3501 -0.0792 0.0589 -0.1232 0.8797 ...
 $ se_mean: num  0.0184 0.01697 0.00737 0.00944 0.01967 ...
 $ sd     : num  0.491 0.585 0.219 0.323 0.548 ...
 $ 2.5%   : num  0.154 -1.128 -0.37 -0.792 0.315 ...
 $ 25%    : num  1.116 -0.453 -0.056 -0.31 0.524 ...
 $ 50%    : num  1.4267 -0.1409 0.0558 -0.1179 0.744 ...
 $ 75%    : num  1.673 0.2653 0.1652 0.0523 1.0496 ...
 $ 97.5%  : num  2.115 1.167 0.53 0.525 2.313 ...
 $ n_eff  : num  713 1187 879 1175 775 ...
 $ Rhat   : num  1 1 1 1 1.01 ...
NULL
[1] "summarizing draws"
      mean        sd      p025      p25      p50      p75     p975    truth
1 1.330596 0.4331002 0.2609675 1.142816 1.396654 1.589531 2.027542 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 5, num.units = 0.05"
[1] "2017-05-04 09:26:48 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:26:48 EDT"
/vega/stats/users/smm2253/rpackages/StanHeaders/include/stan/math/rev/core/set_zero_all_adjoints.hpp:14: warning: ‘void stan::math::set_zero_all_adjoints()’ defined but not used
List of 12
 $ J            : num 100
 $ K            : num 5
 $ n            : num 169
 $ N            : num 47251
 $ M            : int 5
 $ x            : num [1:169] 8.52 -4.48 5.52 3.52 2.52 ...
 $ y            : num [1:169] 0.4283 2.762 2.1113 1.3909 0.0684 ...
 $ cluster_id   : int [1:169] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 509 610 420 339 1528
 $ log_Nj_sample: num [1:5] 0.2253 0.4063 0.0331 -0.1812 1.3245
 $ Nj_unique    : num [1:5] 339 420 509 610 1528
 $ M_counts     : int [1:5] 1 1 1 1 1
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 5pct, model bb"
[1] "2017-05-04 09:27:07 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.76 seconds (Warm-up)
               0.45 seconds (Sampling)
               3.21 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.39 seconds (Warm-up)
               0.47 seconds (Sampling)
               2.86 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.78 seconds (Warm-up)
               0.44 seconds (Sampling)
               2.22 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.43 seconds (Warm-up)
               0.45 seconds (Sampling)
               2.88 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:27:19 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:27:19 EDT"
'data.frame':	2000 obs. of  5 variables:
 $ phi_star.1: num  0.1646 0.3986 0.3814 0.3411 0.0348 ...
 $ phi_star.2: num  0.5964 0.2029 0.0514 0.4605 0.1077 ...
 $ phi_star.3: num  0.1107 0.3353 0.3731 0.0744 0.4369 ...
 $ phi_star.4: num  0.0904 0.0165 0.085 0.0908 0.3693 ...
 $ phi_star.5: num  0.0379 0.0467 0.1091 0.0332 0.0513 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	10000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.1646 0.3986 0.3814 0.3411 0.0348 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 5
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	5 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 09:27:19 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:27:20 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:27:20 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:27:20 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.388 -0.123 0.051 -0.103 0.882 ...
 $ se_mean: num  0.0151 0.0163 0.0104 0.0117 0.0239 ...
 $ sd     : num  0.455 0.591 0.23 0.338 0.579 ...
 $ 2.5%   : num  0.351 -1.232 -0.434 -0.75 0.323 ...
 $ 25%    : num  1.153 -0.514 -0.0674 -0.2868 0.5326 ...
 $ 50%    : num  1.4508 -0.1467 0.0488 -0.1192 0.7295 ...
 $ 75%    : num  1.6871 0.2416 0.1673 0.0632 1.054 ...
 $ 97.5%  : num  2.135 1.083 0.536 0.663 2.366 ...
 $ n_eff  : num  907 1316 495 833 588 ...
 $ Rhat   : num  1 1 1.01 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 52839.850500 6787.9094110 4.276490e+04 48056.500000 51632.000000
2 ybar_new     1.372564    0.4189377 3.824227e-01     1.152685     1.427955
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 09:28:02 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.59 (615.44)"
[1] "GREG 8.6.1 estimate (se): 1.57 (0.26)"
[1] "GREG 8.9.8 estimate (se): 1.59 (0.27)"
[1] "OLD HT estimate (se): 1.59 (0.27)"
[1] "OLD GREG estimate (se): 1.6 (0.35)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 10 clusters, 0.05 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 09:28:02 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 10, num.units = 0.05"
[1] "2017-05-04 09:28:03 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:28:03 EDT"
List of 6
 $ J         : num 100
 $ K         : num 10
 $ n         : num 354
 $ x         : num [1:354] 12.52 -1.48 4.52 -8.48 1.52 ...
 $ y         : num [1:354] 1.55 2.65 1.58 1.51 1.18 ...
 $ cluster_id: int [1:354] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 5pct, model cluster_inds_only"
[1] "2017-05-04 09:28:03 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.52 seconds (Warm-up)
               0.52 seconds (Sampling)
               2.04 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.26 seconds (Warm-up)
               0.53 seconds (Sampling)
               1.79 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.18 seconds (Warm-up)
               0.45 seconds (Sampling)
               1.63 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.67 seconds (Warm-up)
               0.53 seconds (Sampling)
               2.2 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:28:11 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:28:12 EDT"
[1] "done making samps"
[1] "2017-05-04 09:28:12 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:28:13 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:28:13 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:28:13 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.371 -0.108 0.905 0.29 0.676
 $ se_mean: num  0.00667 0.002179 0.005875 0.001864 0.000585
 $ sd     : num  0.2983 0.0974 0.2627 0.0834 0.0262
 $ 2.5%   : num  0.741 -0.302 0.553 0.174 0.63
 $ 25%    : num  1.201 -0.168 0.724 0.234 0.657
 $ 50%    : num  1.379 -0.111 0.857 0.274 0.675
 $ 75%    : num  1.5607 -0.0459 1.0286 0.3284 0.693
 $ 97.5%  : num  1.9326 0.0733 1.5733 0.487 0.7302
 $ n_eff  : num  2000 2000 2000 2000 2000
 $ Rhat   : num  0.999 1.001 1.001 1.003 0.999
NULL
[1] "summarizing draws"
      mean        sd      p025      p25      p50      p75     p975    truth
1 1.363425 0.2753461 0.7691356 1.205542 1.380587 1.537771 1.872409 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 10, num.units = 0.05"
[1] "2017-05-04 09:28:17 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:28:17 EDT"
List of 8
 $ J            : num 100
 $ K            : num 10
 $ n            : num 354
 $ x            : num [1:354] 12.52 -1.48 4.52 -8.48 1.52 ...
 $ y            : num [1:354] 1.55 2.65 1.58 1.51 1.18 ...
 $ cluster_id   : int [1:354] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 509 610 1120 244 1388 ...
 $ log_Nj_sample: num [1:10] 0.225 0.406 1.014 -0.51 1.228 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 5pct, model negbin"
[1] "2017-05-04 09:28:17 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.15 seconds (Warm-up)
               0.81 seconds (Sampling)
               3.96 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.36 seconds (Warm-up)
               0.81 seconds (Sampling)
               3.17 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.29 seconds (Warm-up)
               0.82 seconds (Sampling)
               3.11 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.44 seconds (Warm-up)
               0.81 seconds (Sampling)
               3.25 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:28:31 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:28:32 EDT"
[1] "done making samps"
[1] "2017-05-04 09:28:32 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:28:34 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:28:34 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:28:34 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.4032 -0.0896 -0.0845 -0.0396 0.9376 ...
 $ se_mean: num  0.00911 0.01266 0.00343 0.00563 0.00581 ...
 $ sd     : num  0.356 0.499 0.133 0.205 0.26 ...
 $ 2.5%   : num  0.641 -1.002 -0.352 -0.441 0.566 ...
 $ 25%    : num  1.178 -0.419 -0.168 -0.156 0.761 ...
 $ 50%    : num  1.4169 -0.0961 -0.0871 -0.0383 0.8879 ...
 $ 75%    : num  1.6474 0.2103 -0.00135 0.08165 1.06467 ...
 $ 97.5%  : num  2.04 0.967 0.187 0.357 1.556 ...
 $ n_eff  : num  1527 1554 1501 1321 2000 ...
 $ Rhat   : num  1 0.999 0.999 1 0.999 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 57340.033000 1.075910e+04 3.559617e+04 50350.250000 57344.500000
2 ybar_new     1.368091 2.951484e-01 7.742057e-01     1.181083     1.379235
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 10, num.units = 0.05"
[1] "2017-05-04 09:29:13 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:29:13 EDT"
List of 8
 $ J            : num 100
 $ K            : num 10
 $ n            : num 354
 $ x            : num [1:354] 12.52 -1.48 4.52 -8.48 1.52 ...
 $ y            : num [1:354] 1.55 2.65 1.58 1.51 1.18 ...
 $ cluster_id   : int [1:354] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 509 610 1120 244 1388 ...
 $ log_Nj_sample: num [1:10] 0.225 0.406 1.014 -0.51 1.228 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 5pct, model lognormal"
[1] "2017-05-04 09:29:13 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.13 seconds (Warm-up)
               0.61 seconds (Sampling)
               2.74 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.77 seconds (Warm-up)
               0.65 seconds (Sampling)
               2.42 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.69 seconds (Warm-up)
               0.61 seconds (Sampling)
               4.3 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.04 seconds (Warm-up)
               0.63 seconds (Sampling)
               2.67 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:29:26 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:29:27 EDT"
[1] "done making samps"
[1] "2017-05-04 09:29:27 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:29:28 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:29:28 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:29:28 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.4043 -0.1091 -0.0994 -0.0256 0.9394 ...
 $ se_mean: num  0.00908 0.01251 0.00362 0.0052 0.0074 ...
 $ sd     : num  0.355 0.479 0.127 0.191 0.282 ...
 $ 2.5%   : num  0.621 -1.006 -0.35 -0.39 0.559 ...
 $ 25%    : num  1.181 -0.425 -0.175 -0.149 0.744 ...
 $ 50%    : num  1.4271 -0.1265 -0.099 -0.0293 0.8871 ...
 $ 75%    : num  1.6464 0.1941 -0.019 0.0956 1.0721 ...
 $ 97.5%  : num  2.044 0.923 0.147 0.347 1.633 ...
 $ n_eff  : num  1532 1464 1236 1349 1447 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 53260.418860 1.098048e+04 3.116754e+04 46622.848229 53155.524840
2 ybar_new     1.360301 3.027052e-01 7.132367e-01     1.183305     1.369842
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 10, num.units = 0.05"
[1] "2017-05-04 09:30:07 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:30:07 EDT"
List of 8
 $ J            : num 100
 $ K            : num 10
 $ n            : num 354
 $ x            : num [1:354] 12.52 -1.48 4.52 -8.48 1.52 ...
 $ y            : num [1:354] 1.55 2.65 1.58 1.51 1.18 ...
 $ cluster_id   : int [1:354] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 509 610 1120 244 1388 ...
 $ log_Nj_sample: num [1:10] 0.225 0.406 1.014 -0.51 1.228 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 5pct, model knowsizes"
[1] "2017-05-04 09:30:08 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.55 seconds (Warm-up)
               0.55 seconds (Sampling)
               2.1 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.66 seconds (Warm-up)
               1.09 seconds (Sampling)
               2.75 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.64 seconds (Warm-up)
               0.58 seconds (Sampling)
               2.22 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.61 seconds (Warm-up)
               0.58 seconds (Sampling)
               2.19 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:30:17 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:30:18 EDT"
[1] "done making samps"
[1] "2017-05-04 09:30:18 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:30:20 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:30:20 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:30:20 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.4079 -0.1101 -0.0914 -0.0385 0.9383 ...
 $ se_mean: num  0.00931 0.01066 0.00287 0.00415 0.0061 ...
 $ sd     : num  0.356 0.477 0.128 0.186 0.273 ...
 $ 2.5%   : num  0.631 -0.999 -0.349 -0.41 0.56 ...
 $ 25%    : num  1.2 -0.427 -0.169 -0.155 0.745 ...
 $ 50%    : num  1.4358 -0.121 -0.0962 -0.0419 0.8902 ...
 $ 75%    : num  1.6492 0.1928 -0.0133 0.0816 1.0873 ...
 $ 97.5%  : num  2.038 0.874 0.174 0.327 1.558 ...
 $ n_eff  : num  1462 2000 2000 2000 2000 ...
 $ Rhat   : num  0.999 1 0.999 1.001 1 ...
NULL
[1] "summarizing draws"
      mean        sd      p025      p25      p50      p75     p975    truth
1 1.371345 0.2842435 0.7462033 1.213997 1.392589 1.554881 1.894154 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 10, num.units = 0.05"
[1] "2017-05-04 09:30:24 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:30:24 EDT"
List of 12
 $ J            : num 100
 $ K            : num 10
 $ n            : num 354
 $ N            : num 47251
 $ M            : int 10
 $ x            : num [1:354] 12.52 -1.48 4.52 -8.48 1.52 ...
 $ y            : num [1:354] 1.55 2.65 1.58 1.51 1.18 ...
 $ cluster_id   : int [1:354] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 509 610 1120 244 1388 ...
 $ log_Nj_sample: num [1:10] 0.225 0.406 1.014 -0.51 1.228 ...
 $ Nj_unique    : num [1:10] 244 313 509 550 585 ...
 $ M_counts     : int [1:10] 1 1 1 1 1 1 1 1 1 1
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 5pct, model bb"
[1] "2017-05-04 09:30:24 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.02 seconds (Warm-up)
               0.99 seconds (Sampling)
               9.01 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.38 seconds (Warm-up)
               0.83 seconds (Sampling)
               6.21 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.92 seconds (Warm-up)
               0.8 seconds (Sampling)
               4.72 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.81 seconds (Warm-up)
               0.79 seconds (Sampling)
               4.6 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:30:49 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:30:50 EDT"
'data.frame':	2000 obs. of  10 variables:
 $ phi_star.1 : num  0.306 0.389 0.461 0.259 0.398 ...
 $ phi_star.2 : num  0.1288 0.1031 0.0631 0.3529 0.055 ...
 $ phi_star.3 : num  0.0937 0.0829 0.0756 0.029 0.1517 ...
 $ phi_star.4 : num  0.1041 0.0485 0.0427 0.0678 0.0749 ...
 $ phi_star.5 : num  0.1805 0.1086 0.04 0.0965 0.1828 ...
 $ phi_star.6 : num  0.0373 0.0601 0.0888 0.0872 0.0185 ...
 $ phi_star.7 : num  0.0654 0.0289 0.092 0.06 0.0452 ...
 $ phi_star.8 : num  0.0534 0.1169 0.0297 0.0159 0.029 ...
 $ phi_star.9 : num  0.0165 0.0355 0.0283 0.024 0.0215 ...
 $ phi_star.10: num  0.01407 0.02634 0.07849 0.00772 0.02353 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	20000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.306 0.389 0.461 0.259 0.398 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 10
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
  ..$ : int  10000 10001 10002 10003 10004 10005 10006 10007 10008 10009 ...
  ..$ : int  12000 12001 12002 12003 12004 12005 12006 12007 12008 12009 ...
  ..$ : int  14000 14001 14002 14003 14004 14005 14006 14007 14008 14009 ...
  ..$ : int  16000 16001 16002 16003 16004 16005 16006 16007 16008 16009 ...
  ..$ : int  18000 18001 18002 18003 18004 18005 18006 18007 18008 18009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	10 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5 6 7 8 9 10
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 09:30:50 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:30:51 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:30:51 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:30:51 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.3927 -0.1146 -0.0843 -0.0449 0.9468 ...
 $ se_mean: num  0.00922 0.01131 0.0028 0.00412 0.0089 ...
 $ sd     : num  0.37 0.506 0.125 0.184 0.301 ...
 $ 2.5%   : num  0.569 -1.085 -0.327 -0.441 0.566 ...
 $ 25%    : num  1.173 -0.436 -0.165 -0.153 0.751 ...
 $ 50%    : num  1.4107 -0.1232 -0.0852 -0.0432 0.89 ...
 $ 75%    : num  1.64273 0.18829 -0.00351 0.07256 1.07801 ...
 $ 97.5%  : num  2.039 0.909 0.176 0.324 1.626 ...
 $ n_eff  : num  1607 2000 2000 2000 1144 ...
 $ Rhat   : num  1 0.999 1 0.999 1.004 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 54795.488000 6272.2234692 4.373603e+04 50415.250000 54407.500000
2 ybar_new     1.366405    0.3018109 6.712073e-01     1.197108     1.390718
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 09:31:35 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.4 (632.55)"
[1] "GREG 8.6.1 estimate (se): 1.4 (0.27)"
[1] "GREG 8.9.8 estimate (se): 1.43 (0.27)"
[1] "OLD HT estimate (se): 1.4 (0.29)"
[1] "OLD GREG estimate (se): 1.4 (0.25)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 20 clusters, 0.05 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 09:31:36 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 20, num.units = 0.05"
[1] "2017-05-04 09:31:36 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:31:36 EDT"
List of 6
 $ J         : num 100
 $ K         : num 20
 $ n         : num 576
 $ x         : num [1:576] -9.48 -4.48 -1.48 8.52 10.52 ...
 $ y         : num [1:576] -0.708 0.455 1.631 4.331 3.656 ...
 $ cluster_id: int [1:576] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 5pct, model cluster_inds_only"
[1] "2017-05-04 09:31:36 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.57 seconds (Warm-up)
               0.86 seconds (Sampling)
               3.43 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.45 seconds (Warm-up)
               0.98 seconds (Sampling)
               3.43 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.93 seconds (Warm-up)
               0.86 seconds (Sampling)
               2.79 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.96 seconds (Warm-up)
               0.84 seconds (Sampling)
               2.8 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:31:49 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:31:51 EDT"
[1] "done making samps"
[1] "2017-05-04 09:31:51 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:31:53 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:31:53 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:31:53 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.4338 0.0451 0.8085 0.2128 0.6893
 $ se_mean: num  0.004217 0.001119 0.003339 0.000909 0.000475
 $ sd     : num  0.1886 0.05 0.1493 0.0406 0.0212
 $ 2.5%   : num  1.0441 -0.0576 0.5709 0.1504 0.6489
 $ 25%    : num  1.3121 0.0125 0.7017 0.1845 0.6747
 $ 50%    : num  1.4389 0.0463 0.7917 0.2069 0.688
 $ 75%    : num  1.5631 0.0772 0.8939 0.234 0.7037
 $ 97.5%  : num  1.796 0.143 1.159 0.309 0.733
 $ n_eff  : num  2000 2000 2000 2000 2000
 $ Rhat   : num  0.999 1 0.999 1 0.999
NULL
[1] "summarizing draws"
      mean        sd     p025      p25      p50      p75     p975    truth
1 1.453778 0.1650627 1.122585 1.347978 1.450373 1.563806 1.781141 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 20, num.units = 0.05"
[1] "2017-05-04 09:31:58 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:31:58 EDT"
List of 8
 $ J            : num 100
 $ K            : num 20
 $ n            : num 576
 $ x            : num [1:576] -9.48 -4.48 -1.48 8.52 10.52 ...
 $ y            : num [1:576] -0.708 0.455 1.631 4.331 3.656 ...
 $ cluster_id   : int [1:576] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 1064 590 202 413 302 ...
 $ log_Nj_sample: num [1:20] 0.9626 0.3729 -0.6989 0.0163 -0.2967 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 5pct, model negbin"
[1] "2017-05-04 09:31:58 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.23 seconds (Warm-up)
               1.3 seconds (Sampling)
               4.53 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.51 seconds (Warm-up)
               2.65 seconds (Sampling)
               6.16 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.08 seconds (Warm-up)
               1.31 seconds (Sampling)
               6.39 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.08 seconds (Warm-up)
               1.44 seconds (Sampling)
               5.52 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:32:21 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:32:23 EDT"
[1] "done making samps"
[1] "2017-05-04 09:32:23 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:32:25 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:32:25 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:32:25 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.3805 0.2381 0.0666 -0.0989 0.8291 ...
 $ se_mean: num  0.00441 0.00764 0.00116 0.00209 0.00359 ...
 $ sd     : num  0.1971 0.3416 0.0519 0.0937 0.1606 ...
 $ 2.5%   : num  0.992 -0.422 -0.029 -0.285 0.583 ...
 $ 25%    : num  1.2557 0.021 0.0302 -0.1592 0.7177 ...
 $ 50%    : num  1.3826 0.2353 0.0665 -0.0979 0.8092 ...
 $ 75%    : num  1.5111 0.4556 0.1001 -0.0371 0.9071 ...
 $ 97.5%  : num  1.7677 0.9242 0.1688 0.0822 1.2055 ...
 $ n_eff  : num  2000 2000 2000 2000 2000 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 47226.210000 5471.5078798 36451.250000 43722.250000 47370.000000
2 ybar_new     1.463161    0.1708108     1.125318     1.355497     1.463991
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 20, num.units = 0.05"
[1] "2017-05-04 09:33:15 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:33:15 EDT"
List of 8
 $ J            : num 100
 $ K            : num 20
 $ n            : num 576
 $ x            : num [1:576] -9.48 -4.48 -1.48 8.52 10.52 ...
 $ y            : num [1:576] -0.708 0.455 1.631 4.331 3.656 ...
 $ cluster_id   : int [1:576] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 1064 590 202 413 302 ...
 $ log_Nj_sample: num [1:20] 0.9626 0.3729 -0.6989 0.0163 -0.2967 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 5pct, model lognormal"
[1] "2017-05-04 09:33:15 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.65 seconds (Warm-up)
               1.4 seconds (Sampling)
               4.05 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.67 seconds (Warm-up)
               1.63 seconds (Sampling)
               5.3 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.19 seconds (Warm-up)
               1.13 seconds (Sampling)
               5.32 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.34 seconds (Warm-up)
               1.24 seconds (Sampling)
               4.58 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:33:35 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:33:37 EDT"
[1] "done making samps"
[1] "2017-05-04 09:33:37 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:33:40 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:33:40 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:33:40 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.3825 0.2442 0.0686 -0.1019 0.8237 ...
 $ se_mean: num  0.00469 0.00776 0.0012 0.00213 0.00336 ...
 $ sd     : num  0.2097 0.3471 0.0535 0.0951 0.1502 ...
 $ 2.5%   : num  0.9765 -0.4632 -0.0352 -0.2904 0.5867 ...
 $ 25%    : num  1.2426 0.0242 0.0312 -0.1621 0.7211 ...
 $ 50%    : num  1.384 0.25 0.069 -0.101 0.801 ...
 $ 75%    : num  1.5198 0.4683 0.1018 -0.0363 0.91 ...
 $ 97.5%  : num  1.8045 0.9117 0.1735 0.0739 1.1789 ...
 $ n_eff  : num  2000 2000 2000 2000 2000 ...
 $ Rhat   : num  1.001 1.001 0.999 1 1.001 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param        mean           sd         p025          p25          p50
     <chr>       <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 46324.66040 5156.7248006 36503.923508 42955.835503 46375.243634
2 ybar_new     1.46052    0.1726928     1.117885     1.345628     1.463413
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 20, num.units = 0.05"
[1] "2017-05-04 09:34:29 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:34:29 EDT"
List of 8
 $ J            : num 100
 $ K            : num 20
 $ n            : num 576
 $ x            : num [1:576] -9.48 -4.48 -1.48 8.52 10.52 ...
 $ y            : num [1:576] -0.708 0.455 1.631 4.331 3.656 ...
 $ cluster_id   : int [1:576] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 1064 590 202 413 302 ...
 $ log_Nj_sample: num [1:20] 0.9626 0.3729 -0.6989 0.0163 -0.2967 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 5pct, model knowsizes"
[1] "2017-05-04 09:34:29 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.28 seconds (Warm-up)
               1.31 seconds (Sampling)
               3.59 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.37 seconds (Warm-up)
               1.38 seconds (Sampling)
               3.75 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.44 seconds (Warm-up)
               0.95 seconds (Sampling)
               4.39 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.48 seconds (Warm-up)
               1.13 seconds (Sampling)
               4.61 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:34:46 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:34:48 EDT"
[1] "done making samps"
[1] "2017-05-04 09:34:48 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:34:51 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:34:51 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:34:51 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.3789 0.2422 0.0685 -0.1044 0.8229 ...
 $ se_mean: num  0.00466 0.00779 0.00121 0.00212 0.00339 ...
 $ sd     : num  0.2086 0.3484 0.0542 0.0947 0.1515 ...
 $ 2.5%   : num  0.9412 -0.4627 -0.0405 -0.2946 0.5785 ...
 $ 25%    : num  1.24389 0.00583 0.03323 -0.16432 0.71637 ...
 $ 50%    : num  1.3873 0.2427 0.0679 -0.1041 0.8011 ...
 $ 75%    : num  1.5177 0.468 0.1036 -0.0416 0.9074 ...
 $ 97.5%  : num  1.7683 0.9452 0.1772 0.0796 1.1778 ...
 $ n_eff  : num  2000 2000 2000 2000 2000 2000 2000
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
      mean        sd     p025      p25      p50      p75     p975    truth
1 1.454184 0.1715337 1.124172 1.340499 1.453797 1.567877 1.789166 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 20, num.units = 0.05"
[1] "2017-05-04 09:34:57 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:34:57 EDT"
List of 12
 $ J            : num 100
 $ K            : num 20
 $ n            : num 576
 $ N            : num 47251
 $ M            : int 19
 $ x            : num [1:576] -9.48 -4.48 -1.48 8.52 10.52 ...
 $ y            : num [1:576] -0.708 0.455 1.631 4.331 3.656 ...
 $ cluster_id   : int [1:576] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 1064 590 202 413 302 ...
 $ log_Nj_sample: num [1:20] 0.9626 0.3729 -0.6989 0.0163 -0.2967 ...
 $ Nj_unique    : num [1:19] 202 281 302 339 345 358 399 406 413 556 ...
 $ M_counts     : int [1:19] 1 2 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 5pct, model bb"
[1] "2017-05-04 09:34:57 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 10.41 seconds (Warm-up)
               3.03 seconds (Sampling)
               13.44 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 9.54 seconds (Warm-up)
               1.81 seconds (Sampling)
               11.35 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 9.57 seconds (Warm-up)
               1.66 seconds (Sampling)
               11.23 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 9.98 seconds (Warm-up)
               1.65 seconds (Sampling)
               11.63 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:35:45 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:35:47 EDT"
'data.frame':	2000 obs. of  19 variables:
 $ phi_star.1 : num  0.1628 0.0996 0.0761 0.0592 0.3097 ...
 $ phi_star.2 : num  0.2441 0.0744 0.0987 0.0595 0.0915 ...
 $ phi_star.3 : num  0.0521 0.1436 0.1329 0.0471 0.0749 ...
 $ phi_star.4 : num  0.0726 0.1149 0.0905 0.1025 0.0935 ...
 $ phi_star.5 : num  0.1008 0.0445 0.1181 0.1348 0.0137 ...
 $ phi_star.6 : num  0.0786 0.0373 0.0404 0.0401 0.0372 ...
 $ phi_star.7 : num  0.0951 0.0976 0.0249 0.0438 0.0325 ...
 $ phi_star.8 : num  0.0324 0.0354 0.0877 0.1541 0.0429 ...
 $ phi_star.9 : num  0.0451 0.0604 0.0226 0.0122 0.1095 ...
 $ phi_star.10: num  0.00348 0.08151 0.04993 0.0128 0.00455 ...
 $ phi_star.11: num  0.0304 0.0175 0.05 0.0557 0.0272 ...
 $ phi_star.12: num  0.0123 0.0203 0.0291 0.0669 0.0114 ...
 $ phi_star.13: num  0.022 0.0204 0.0357 0.0601 0.0268 ...
 $ phi_star.14: num  0.00315 0.02733 0.02558 0.01419 0.05976 ...
 $ phi_star.15: num  0.01163 0.0388 0.04522 0.04361 0.00554 ...
 $ phi_star.16: num  0.01 0.0473 0.0208 0.0112 0.0221 ...
 $ phi_star.17: num  0.00326 0.001 0.00449 0.06162 0.00693 ...
 $ phi_star.18: num  0.00684 0.03639 0.04458 0.01709 0.01254 ...
 $ phi_star.19: num  0.01324 0.00195 0.00278 0.00357 0.01772 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	38000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.1628 0.0996 0.0761 0.0592 0.3097 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 19
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
  ..$ : int  10000 10001 10002 10003 10004 10005 10006 10007 10008 10009 ...
  ..$ : int  12000 12001 12002 12003 12004 12005 12006 12007 12008 12009 ...
  ..$ : int  14000 14001 14002 14003 14004 14005 14006 14007 14008 14009 ...
  ..$ : int  16000 16001 16002 16003 16004 16005 16006 16007 16008 16009 ...
  ..$ : int  18000 18001 18002 18003 18004 18005 18006 18007 18008 18009 ...
  ..$ : int  20000 20001 20002 20003 20004 20005 20006 20007 20008 20009 ...
  ..$ : int  22000 22001 22002 22003 22004 22005 22006 22007 22008 22009 ...
  ..$ : int  24000 24001 24002 24003 24004 24005 24006 24007 24008 24009 ...
  ..$ : int  26000 26001 26002 26003 26004 26005 26006 26007 26008 26009 ...
  ..$ : int  28000 28001 28002 28003 28004 28005 28006 28007 28008 28009 ...
  ..$ : int  30000 30001 30002 30003 30004 30005 30006 30007 30008 30009 ...
  ..$ : int  32000 32001 32002 32003 32004 32005 32006 32007 32008 32009 ...
  ..$ : int  34000 34001 34002 34003 34004 34005 34006 34007 34008 34009 ...
  ..$ : int  36000 36001 36002 36003 36004 36005 36006 36007 36008 36009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	19 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5 6 7 8 9 10 ...
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 09:35:47 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:35:50 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:35:50 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:35:50 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.378 0.237 0.066 -0.102 0.826 ...
 $ se_mean: num  0.00436 0.00798 0.00115 0.00202 0.00358 ...
 $ sd     : num  0.1951 0.3568 0.0513 0.0904 0.1603 ...
 $ 2.5%   : num  0.986 -0.503 -0.04 -0.277 0.581 ...
 $ 25%    : num  1.24928 0.00363 0.03167 -0.16203 0.71527 ...
 $ 50%    : num  1.3767 0.2373 0.0657 -0.0992 0.802 ...
 $ 75%    : num  1.5109 0.4606 0.1002 -0.0396 0.913 ...
 $ 97.5%  : num  1.7612 0.9428 0.1687 0.0747 1.1834 ...
 $ n_eff  : num  2000 2000 2000 2000 2000 2000 2000
 $ Rhat   : num  1 0.999 1 1 1.003 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param        mean           sd         p025          p25          p50
     <chr>       <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 45712.91250 3041.9545315 39930.625000 43619.000000 45678.500000
2 ybar_new     1.44152    0.1624525     1.122003     1.337185     1.444908
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 09:36:45 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.44 (388.67)"
[1] "GREG 8.6.1 estimate (se): 1.44 (0.17)"
[1] "GREG 8.9.8 estimate (se): 1.44 (0.16)"
[1] "OLD HT estimate (se): 1.44 (0.18)"
[1] "OLD GREG estimate (se): 1.44 (0.16)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 30 clusters, 0.05 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 09:36:46 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 30, num.units = 0.05"
[1] "2017-05-04 09:36:47 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:36:47 EDT"
List of 6
 $ J         : num 100
 $ K         : num 30
 $ n         : num 1002
 $ x         : num [1:1002] 1.52 -12.48 -11.48 5.52 11.52 ...
 $ y         : num [1:1002] 3.114 2.513 1.763 0.933 -0.16 ...
 $ cluster_id: int [1:1002] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 5pct, model cluster_inds_only"
[1] "2017-05-04 09:36:47 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.19 seconds (Warm-up)
               1.73 seconds (Sampling)
               5.92 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.94 seconds (Warm-up)
               1.94 seconds (Sampling)
               5.88 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.17 seconds (Warm-up)
               1.48 seconds (Sampling)
               5.65 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.27 seconds (Warm-up)
               1.95 seconds (Sampling)
               6.22 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:37:11 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:37:14 EDT"
[1] "done making samps"
[1] "2017-05-04 09:37:15 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:37:19 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:37:19 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:37:19 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.37088 -0.00496 0.75393 0.238 0.68286
 $ se_mean: num  0.003078 0.000988 0.002494 0.000708 0.000349
 $ sd     : num  0.1377 0.0442 0.1115 0.0317 0.0156
 $ 2.5%   : num  1.1081 -0.0913 0.575 0.1858 0.6519
 $ 25%    : num  1.2785 -0.0339 0.6753 0.2151 0.6723
 $ 50%    : num  1.36939 -0.00478 0.741 0.23482 0.68261
 $ 75%    : num  1.46 0.0245 0.8194 0.257 0.6926
 $ 97.5%  : num  1.6459 0.0818 0.9999 0.3063 0.7143
 $ n_eff  : num  2000 2000 2000 2000 2000
 $ Rhat   : num  0.999 0.999 1 0.998 1
NULL
[1] "summarizing draws"
      mean         sd     p025     p25      p50      p75    p975    truth
1 1.311023 0.09942556 1.108666 1.24658 1.312201 1.376492 1.50656 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 30, num.units = 0.05"
[1] "2017-05-04 09:37:26 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:37:26 EDT"
List of 8
 $ J            : num 100
 $ K            : num 30
 $ n            : num 1002
 $ x            : num [1:1002] 1.52 -12.48 -11.48 5.52 11.52 ...
 $ y            : num [1:1002] 3.114 2.513 1.763 0.933 -0.16 ...
 $ cluster_id   : int [1:1002] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 414 925 261 302 798 ...
 $ log_Nj_sample: num [1:30] 0.0187 0.8226 -0.4427 -0.2967 0.6749 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 5pct, model negbin"
[1] "2017-05-04 09:37:26 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 10.55 seconds (Warm-up)
               4.92 seconds (Sampling)
               15.47 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.79 seconds (Warm-up)
               2.87 seconds (Sampling)
               8.66 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.67 seconds (Warm-up)
               2.86 seconds (Sampling)
               10.53 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.31 seconds (Warm-up)
               2.81 seconds (Sampling)
               10.12 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:38:11 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:38:15 EDT"
[1] "done making samps"
[1] "2017-05-04 09:38:15 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:38:19 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:38:19 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:38:19 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.5908 -0.6065 0.0276 -0.0886 0.6557 ...
 $ se_mean: num  0.00333 0.00461 0.00118 0.00175 0.00209 ...
 $ sd     : num  0.1402 0.2061 0.0526 0.0784 0.0935 ...
 $ 2.5%   : num  1.3072 -0.9946 -0.0776 -0.2402 0.5036 ...
 $ 25%    : num  1.4981 -0.7395 -0.0075 -0.1383 0.5895 ...
 $ 50%    : num  1.596 -0.6088 0.0274 -0.0912 0.6428 ...
 $ 75%    : num  1.6879 -0.4689 0.0604 -0.0386 0.7123 ...
 $ 97.5%  : num  1.8587 -0.2071 0.1325 0.0746 0.8717 ...
 $ n_eff  : num  1778 2000 2000 2000 2000 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 54100.457500 5130.4713812 44011.875000 50782.750000 54112.500000
2 ybar_new     1.346799    0.1062336     1.124916     1.276804     1.353332
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 30, num.units = 0.05"
[1] "2017-05-04 09:39:11 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:39:11 EDT"
List of 8
 $ J            : num 100
 $ K            : num 30
 $ n            : num 1002
 $ x            : num [1:1002] 1.52 -12.48 -11.48 5.52 11.52 ...
 $ y            : num [1:1002] 3.114 2.513 1.763 0.933 -0.16 ...
 $ cluster_id   : int [1:1002] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 414 925 261 302 798 ...
 $ log_Nj_sample: num [1:30] 0.0187 0.8226 -0.4427 -0.2967 0.6749 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 5pct, model lognormal"
[1] "2017-05-04 09:39:11 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.19 seconds (Warm-up)
               2.89 seconds (Sampling)
               8.08 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.51 seconds (Warm-up)
               2.18 seconds (Sampling)
               6.69 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.41 seconds (Warm-up)
               1.87 seconds (Sampling)
               6.28 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 6.98 seconds (Warm-up)
               3.19 seconds (Sampling)
               10.17 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:39:43 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:39:46 EDT"
[1] "done making samps"
[1] "2017-05-04 09:39:46 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:39:51 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:39:51 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:39:51 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.5821 -0.5993 0.0275 -0.0883 0.6574 ...
 $ se_mean: num  0.00368 0.00551 0.00112 0.00167 0.00251 ...
 $ sd     : num  0.1452 0.2157 0.0502 0.0748 0.094 ...
 $ 2.5%   : num  1.288 -1.005 -0.074 -0.237 0.507 ...
 $ 25%    : num  1.48935 -0.7443 -0.00627 -0.13746 0.58927 ...
 $ 50%    : num  1.5816 -0.6015 0.0269 -0.0864 0.6453 ...
 $ 75%    : num  1.6764 -0.4646 0.059 -0.0401 0.712 ...
 $ 97.5%  : num  1.8689 -0.1569 0.1312 0.0577 0.8678 ...
 $ n_eff  : num  1557 1533 2000 2000 1400 ...
 $ Rhat   : num  1.001 1.006 0.999 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 53671.508156 4968.3687993 44332.607646 50401.046401 53450.492039
2 ybar_new     1.352023    0.1104095     1.128596     1.283138     1.354513
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 30, num.units = 0.05"
[1] "2017-05-04 09:40:41 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:40:42 EDT"
List of 8
 $ J            : num 100
 $ K            : num 30
 $ n            : num 1002
 $ x            : num [1:1002] 1.52 -12.48 -11.48 5.52 11.52 ...
 $ y            : num [1:1002] 3.114 2.513 1.763 0.933 -0.16 ...
 $ cluster_id   : int [1:1002] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 414 925 261 302 798 ...
 $ log_Nj_sample: num [1:30] 0.0187 0.8226 -0.4427 -0.2967 0.6749 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 5pct, model knowsizes"
[1] "2017-05-04 09:40:42 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.84 seconds (Warm-up)
               1.88 seconds (Sampling)
               5.72 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.92 seconds (Warm-up)
               1.86 seconds (Sampling)
               7.78 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.03 seconds (Warm-up)
               1.98 seconds (Sampling)
               7.01 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.21 seconds (Warm-up)
               2.12 seconds (Sampling)
               6.33 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:41:09 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:41:12 EDT"
[1] "done making samps"
[1] "2017-05-04 09:41:13 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:41:17 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:41:17 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:41:17 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.5938 -0.6056 0.0262 -0.0856 0.6591 ...
 $ se_mean: num  0.00395 0.00484 0.00118 0.00191 0.00216 ...
 $ sd     : num  0.1512 0.2166 0.0526 0.0765 0.0964 ...
 $ 2.5%   : num  1.2898 -1.0414 -0.0744 -0.2312 0.5069 ...
 $ 25%    : num  1.49715 -0.74794 -0.00888 -0.13689 0.5882 ...
 $ 50%    : num  1.5968 -0.607 0.0268 -0.086 0.6422 ...
 $ 75%    : num  1.6932 -0.4696 0.0599 -0.0354 0.7205 ...
 $ 97.5%  : num  1.8978 -0.1702 0.1319 0.0674 0.8783 ...
 $ n_eff  : num  1467 2000 2000 1598 2000 ...
 $ Rhat   : num  1.001 1 0.999 1.001 1.001 ...
NULL
[1] "summarizing draws"
      mean       sd     p025      p25      p50      p75     p975    truth
1 1.418711 0.100917 1.227481 1.350805 1.420366 1.483175 1.624191 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 30, num.units = 0.05"
[1] "2017-05-04 09:41:25 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:41:25 EDT"
List of 12
 $ J            : num 100
 $ K            : num 30
 $ n            : num 1002
 $ N            : num 47251
 $ M            : int 30
 $ x            : num [1:1002] 1.52 -12.48 -11.48 5.52 11.52 ...
 $ y            : num [1:1002] 3.114 2.513 1.763 0.933 -0.16 ...
 $ cluster_id   : int [1:1002] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 414 925 261 302 798 ...
 $ log_Nj_sample: num [1:30] 0.0187 0.8226 -0.4427 -0.2967 0.6749 ...
 $ Nj_unique    : num [1:30] 137 208 257 261 302 365 369 409 414 431 ...
 $ M_counts     : int [1:30] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 5pct, model bb"
[1] "2017-05-04 09:41:25 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 16.03 seconds (Warm-up)
               2.55 seconds (Sampling)
               18.58 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 17.13 seconds (Warm-up)
               2.41 seconds (Sampling)
               19.54 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 15.8 seconds (Warm-up)
               4.77 seconds (Sampling)
               20.57 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 16.62 seconds (Warm-up)
               4.69 seconds (Sampling)
               21.31 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:42:45 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:42:49 EDT"
'data.frame':	2000 obs. of  30 variables:
 $ phi_star.1 : num  0.0633 0.0975 0.0501 0.2817 0.1026 ...
 $ phi_star.2 : num  0.1458 0.1315 0.1451 0.0958 0.0685 ...
 $ phi_star.3 : num  0.0659 0.104 0.1076 0.0952 0.065 ...
 $ phi_star.4 : num  0.0663 0.0477 0.0594 0.1075 0.0973 ...
 $ phi_star.5 : num  0.0676 0.0425 0.1111 0.0488 0.0381 ...
 $ phi_star.6 : num  0.03598 0.07265 0.04667 0.00232 0.10107 ...
 $ phi_star.7 : num  0.0365 0.0186 0.0754 0.0303 0.0156 ...
 $ phi_star.8 : num  0.08204 0.01795 0.03309 0.00685 0.0225 ...
 $ phi_star.9 : num  0.0459 0.00408 0.00814 0.02076 0.00858 ...
 $ phi_star.10: num  0.0326 0.0278 0.017 0.066 0.0579 ...
 $ phi_star.11: num  0.017 0.0318 0.0195 0.0192 0.0329 ...
 $ phi_star.12: num  0.05655 0.04467 0.00739 0.01386 0.03333 ...
 $ phi_star.13: num  0.0596 0.0222 0.02137 0.01074 0.00355 ...
 $ phi_star.14: num  0.01162 0.03292 0.02282 0.02443 0.00908 ...
 $ phi_star.15: num  0.00854 0.05749 0.02273 0.01462 0.06364 ...
 $ phi_star.16: num  0.02504 0.03204 0.01483 0.00917 0.00795 ...
 $ phi_star.17: num  0.01557 0.02058 0.00767 0.0144 0.04472 ...
 $ phi_star.18: num  0.0155 0.0207 0.1024 0.0289 0.0279 ...
 $ phi_star.19: num  0.04226 0.00472 0.03861 0.00974 0.04771 ...
 $ phi_star.20: num  0.0178 0.00857 0.01081 0.03889 0.02205 ...
 $ phi_star.21: num  0.00408 0.04108 0.01991 0.02397 0.02772 ...
 $ phi_star.22: num  0.0092 0.0225 0.0171 0.0082 0.0304 ...
 $ phi_star.23: num  0.00927 0.02352 0.00294 0.00552 0.00493 ...
 $ phi_star.24: num  0.0351 0.03417 0.00831 0.0096 0.01903 ...
 $ phi_star.25: num  0.01722 0.01048 0.00369 0.00324 0.02993 ...
 $ phi_star.26: num  0.00355 0.01313 0.012 0.00606 0.00156 ...
 $ phi_star.27: num  0.00323 0.00612 0.00444 0.00188 0.00637 ...
 $ phi_star.28: num  0.0054 0.00419 0.00722 0.00133 0.00634 ...
 $ phi_star.29: num  0.000251 0.004237 0.002282 0.00065 0.003561 ...
 $ phi_star.30: num  0.001209 0.000618 0.000336 0.000431 0.000417 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	60000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.0633 0.0975 0.0501 0.2817 0.1026 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 30
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
  ..$ : int  10000 10001 10002 10003 10004 10005 10006 10007 10008 10009 ...
  ..$ : int  12000 12001 12002 12003 12004 12005 12006 12007 12008 12009 ...
  ..$ : int  14000 14001 14002 14003 14004 14005 14006 14007 14008 14009 ...
  ..$ : int  16000 16001 16002 16003 16004 16005 16006 16007 16008 16009 ...
  ..$ : int  18000 18001 18002 18003 18004 18005 18006 18007 18008 18009 ...
  ..$ : int  20000 20001 20002 20003 20004 20005 20006 20007 20008 20009 ...
  ..$ : int  22000 22001 22002 22003 22004 22005 22006 22007 22008 22009 ...
  ..$ : int  24000 24001 24002 24003 24004 24005 24006 24007 24008 24009 ...
  ..$ : int  26000 26001 26002 26003 26004 26005 26006 26007 26008 26009 ...
  ..$ : int  28000 28001 28002 28003 28004 28005 28006 28007 28008 28009 ...
  ..$ : int  30000 30001 30002 30003 30004 30005 30006 30007 30008 30009 ...
  ..$ : int  32000 32001 32002 32003 32004 32005 32006 32007 32008 32009 ...
  ..$ : int  34000 34001 34002 34003 34004 34005 34006 34007 34008 34009 ...
  ..$ : int  36000 36001 36002 36003 36004 36005 36006 36007 36008 36009 ...
  ..$ : int  38000 38001 38002 38003 38004 38005 38006 38007 38008 38009 ...
  ..$ : int  40000 40001 40002 40003 40004 40005 40006 40007 40008 40009 ...
  ..$ : int  42000 42001 42002 42003 42004 42005 42006 42007 42008 42009 ...
  ..$ : int  44000 44001 44002 44003 44004 44005 44006 44007 44008 44009 ...
  ..$ : int  46000 46001 46002 46003 46004 46005 46006 46007 46008 46009 ...
  ..$ : int  48000 48001 48002 48003 48004 48005 48006 48007 48008 48009 ...
  ..$ : int  50000 50001 50002 50003 50004 50005 50006 50007 50008 50009 ...
  ..$ : int  52000 52001 52002 52003 52004 52005 52006 52007 52008 52009 ...
  ..$ : int  54000 54001 54002 54003 54004 54005 54006 54007 54008 54009 ...
  ..$ : int  56000 56001 56002 56003 56004 56005 56006 56007 56008 56009 ...
  ..$ : int  58000 58001 58002 58003 58004 58005 58006 58007 58008 58009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	30 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5 6 7 8 9 10 ...
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 09:42:49 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:42:54 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:42:54 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:42:54 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.5866 -0.5993 0.0266 -0.0924 0.6602 ...
 $ se_mean: num  0.00332 0.00509 0.00116 0.00172 0.00216 ...
 $ sd     : num  0.1483 0.2152 0.0517 0.0768 0.0968 ...
 $ 2.5%   : num  1.3004 -1.0002 -0.0776 -0.2469 0.5044 ...
 $ 25%    : num  1.48996 -0.74524 -0.00677 -0.14124 0.58986 ...
 $ 50%    : num  1.5861 -0.5996 0.0265 -0.0918 0.6495 ...
 $ 75%    : num  1.6836 -0.4553 0.0587 -0.0404 0.7168 ...
 $ 97.5%  : num  1.8722 -0.1808 0.1278 0.0518 0.873 ...
 $ n_eff  : num  2000 1789 2000 2000 2000 ...
 $ Rhat   : num  1.001 0.999 1 0.999 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 48462.613000 3.200323e+03 42035.525000 46317.000000 48520.500000
2 ybar_new     1.392485 9.938331e-02     1.198191     1.326159     1.393768
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 09:43:51 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.39 (270.56)"
[1] "GREG 8.6.1 estimate (se): 1.39 (0.12)"
[1] "GREG 8.9.8 estimate (se): 1.39 (0.13)"
[1] "OLD HT estimate (se): 1.39 (0.15)"
[1] "OLD GREG estimate (se): 1.37 (0.15)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 5 clusters, 0.1 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 09:43:56 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 5, num.units = 0.1"
[1] "2017-05-04 09:43:56 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:43:56 EDT"
List of 6
 $ J         : num 100
 $ K         : num 5
 $ n         : num 369
 $ x         : num [1:369] 12.52 6.52 11.52 -12.48 -5.48 ...
 $ y         : num [1:369] -1.32 -1.12 -1.04 3.31 1.22 ...
 $ cluster_id: int [1:369] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 10pct, model cluster_inds_only"
[1] "2017-05-04 09:43:56 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.91 seconds (Warm-up)
               0.63 seconds (Sampling)
               2.54 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 1.99 seconds (Warm-up)
               0.86 seconds (Sampling)
               2.85 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.21 seconds (Warm-up)
               0.54 seconds (Sampling)
               2.75 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.06 seconds (Warm-up)
               0.53 seconds (Sampling)
               2.59 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:44:07 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:44:08 EDT"
[1] "done making samps"
[1] "2017-05-04 09:44:08 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:44:10 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:44:10 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:44:10 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  0.9574 0.0194 1.3874 0.3524 0.695
 $ se_mean: num  0.013807 0.005903 0.017006 0.006735 0.000584
 $ sd     : num  0.5501 0.1687 0.608 0.1965 0.0261
 $ 2.5%   : num  -0.269 -0.334 0.652 0.154 0.647
 $ 25%    : num  0.626 -0.0703 0.969 0.2292 0.6778
 $ 50%    : num  0.9953 0.0199 1.2442 0.2956 0.6947
 $ 75%    : num  1.32 0.104 1.614 0.413 0.712
 $ 97.5%  : num  1.936 0.361 3.015 0.887 0.75
 $ n_eff  : num  1587 817 1278 851 2000
 $ Rhat   : num  1 1.008 1 1.001 0.999
NULL
[1] "summarizing draws"
       mean        sd       p025       p25      p50      p75     p975    truth
1 0.9592965 0.5326127 -0.1929703 0.6515492 0.994037 1.313226 1.890772 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 5, num.units = 0.1"
[1] "2017-05-04 09:44:14 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:44:14 EDT"
List of 8
 $ J            : num 100
 $ K            : num 5
 $ n            : num 369
 $ x            : num [1:369] 12.52 6.52 11.52 -12.48 -5.48 ...
 $ y            : num [1:369] -1.32 -1.12 -1.04 3.31 1.22 ...
 $ cluster_id   : int [1:369] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 636 1388 533 728 399
 $ log_Nj_sample: num [1:5] 0.448 1.2284 0.2713 0.5831 -0.0182
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 10pct, model negbin"
[1] "2017-05-04 09:44:15 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.63 seconds (Warm-up)
               0.77 seconds (Sampling)
               4.4 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.46 seconds (Warm-up)
               1.65 seconds (Sampling)
               6.11 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.01 seconds (Warm-up)
               1.04 seconds (Sampling)
               4.05 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.58 seconds (Warm-up)
               2.27 seconds (Sampling)
               6.85 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:44:36 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:44:38 EDT"
[1] "done making samps"
[1] "2017-05-04 09:44:38 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:44:39 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:44:39 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:44:39 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.049 -0.185 0.109 -0.195 1.372 ...
 $ se_mean: num  0.01935 0.02142 0.00817 0.01073 0.02189 ...
 $ sd     : num  0.658 0.752 0.252 0.365 0.665 ...
 $ 2.5%   : num  -0.382 -1.594 -0.431 -0.937 0.583 ...
 $ 25%    : num  0.6422 -0.7065 -0.0246 -0.4041 0.9208 ...
 $ 50%    : num  1.096 -0.197 0.112 -0.202 1.212 ...
 $ 75%    : num  1.51256 0.27955 0.2452 0.00387 1.6459 ...
 $ 97.5%  : num  2.188 1.392 0.609 0.606 3.077 ...
 $ n_eff  : num  1157 1233 950 1159 924 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd          p025          p25          p50
     <chr>        <dbl>        <dbl>         <dbl>        <dbl>        <dbl>
1    N_new 65218.912500 1.330615e+04 39144.3000000 5.642900e+04 64635.000000
2 ybar_new     1.007199 6.170342e-01    -0.3258125 6.594221e-01     1.052248
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 5, num.units = 0.1"
[1] "2017-05-04 09:45:26 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:45:27 EDT"
List of 8
 $ J            : num 100
 $ K            : num 5
 $ n            : num 369
 $ x            : num [1:369] 12.52 6.52 11.52 -12.48 -5.48 ...
 $ y            : num [1:369] -1.32 -1.12 -1.04 3.31 1.22 ...
 $ cluster_id   : int [1:369] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 636 1388 533 728 399
 $ log_Nj_sample: num [1:5] 0.448 1.2284 0.2713 0.5831 -0.0182
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 10pct, model lognormal"
[1] "2017-05-04 09:45:27 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.29 seconds (Warm-up)
               1.23 seconds (Sampling)
               4.52 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.78 seconds (Warm-up)
               2.53 seconds (Sampling)
               7.31 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.88 seconds (Warm-up)
               1.3 seconds (Sampling)
               5.18 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.63 seconds (Warm-up)
               0.94 seconds (Sampling)
               4.57 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:45:49 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:45:50 EDT"
[1] "done making samps"
[1] "2017-05-04 09:45:50 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:45:52 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:45:52 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:45:52 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.072 -0.218 0.103 -0.192 1.358 ...
 $ se_mean: num  0.02116 0.02161 0.00753 0.01128 0.02136 ...
 $ sd     : num  0.663 0.789 0.249 0.381 0.643 ...
 $ 2.5%   : num  -0.442 -1.736 -0.412 -0.954 0.583 ...
 $ 25%    : num  0.6944 -0.7437 -0.0299 -0.4125 0.9141 ...
 $ 50%    : num  1.135 -0.26 0.109 -0.2 1.213 ...
 $ 75%    : num  1.5315 0.2652 0.2424 0.0149 1.6119 ...
 $ 97.5%  : num  2.22 1.414 0.607 0.679 2.961 ...
 $ n_eff  : num  983 1332 1097 1142 908 ...
 $ Rhat   : num  1 1 1 1 1.01 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd          p025          p25          p50
     <chr>        <dbl>        <dbl>         <dbl>        <dbl>        <dbl>
1    N_new 5.491828e+04 2.009899e+04 10776.0912424 42968.165157 55731.156556
2 ybar_new 9.603937e-01 7.143633e-01    -0.6264407     0.588149     1.028997
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 5, num.units = 0.1"
[1] "2017-05-04 09:46:40 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:46:40 EDT"
List of 8
 $ J            : num 100
 $ K            : num 5
 $ n            : num 369
 $ x            : num [1:369] 12.52 6.52 11.52 -12.48 -5.48 ...
 $ y            : num [1:369] -1.32 -1.12 -1.04 3.31 1.22 ...
 $ cluster_id   : int [1:369] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 636 1388 533 728 399
 $ log_Nj_sample: num [1:5] 0.448 1.2284 0.2713 0.5831 -0.0182
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 10pct, model knowsizes"
[1] "2017-05-04 09:46:40 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.99 seconds (Warm-up)
               1.26 seconds (Sampling)
               4.25 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.01 seconds (Warm-up)
               0.77 seconds (Sampling)
               3.78 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.12 seconds (Warm-up)
               0.71 seconds (Sampling)
               3.83 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.14 seconds (Warm-up)
               1.29 seconds (Sampling)
               4.43 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:46:57 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:46:58 EDT"
[1] "done making samps"
[1] "2017-05-04 09:46:58 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:47:00 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:47:00 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:47:00 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.0983 -0.2513 0.0919 -0.1736 1.3387 ...
 $ se_mean: num  0.01769 0.02 0.00833 0.01247 0.02155 ...
 $ sd     : num  0.612 0.743 0.26 0.372 0.664 ...
 $ 2.5%   : num  -0.263 -1.596 -0.487 -0.904 0.589 ...
 $ 25%    : num  0.7294 -0.7648 -0.0426 -0.3897 0.9153 ...
 $ 50%    : num  1.143 -0.301 0.106 -0.19 1.192 ...
 $ 75%    : num  1.5205 0.2293 0.2384 0.0197 1.5723 ...
 $ 97.5%  : num  2.173 1.236 0.604 0.657 2.95 ...
 $ n_eff  : num  1196 1379 971 890 950 ...
 $ Rhat   : num  0.999 1 1.003 1.006 1.001 ...
NULL
[1] "summarizing draws"
      mean        sd        p025       p25      p50      p75     p975    truth
1 1.036627 0.5145594 -0.06000415 0.7396531 1.078364 1.377708 1.934524 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 5, num.units = 0.1"
[1] "2017-05-04 09:47:04 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:47:04 EDT"
List of 12
 $ J            : num 100
 $ K            : num 5
 $ n            : num 369
 $ N            : num 47251
 $ M            : int 5
 $ x            : num [1:369] 12.52 6.52 11.52 -12.48 -5.48 ...
 $ y            : num [1:369] -1.32 -1.12 -1.04 3.31 1.22 ...
 $ cluster_id   : int [1:369] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 636 1388 533 728 399
 $ log_Nj_sample: num [1:5] 0.448 1.2284 0.2713 0.5831 -0.0182
 $ Nj_unique    : num [1:5] 399 533 636 728 1388
 $ M_counts     : int [1:5] 1 1 1 1 1
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 10pct, model bb"
[1] "2017-05-04 09:47:04 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.91 seconds (Warm-up)
               0.76 seconds (Sampling)
               4.67 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.05 seconds (Warm-up)
               1.34 seconds (Sampling)
               6.39 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.27 seconds (Warm-up)
               1.54 seconds (Sampling)
               6.81 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.9 seconds (Warm-up)
               1.51 seconds (Sampling)
               6.41 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:47:29 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:47:30 EDT"
'data.frame':	2000 obs. of  5 variables:
 $ phi_star.1: num  0.0499 0.2335 0.2758 0.397 0.1475 ...
 $ phi_star.2: num  0.36 0.214 0.326 0.14 0.326 ...
 $ phi_star.3: num  0.3774 0.0876 0.2402 0.2292 0.2558 ...
 $ phi_star.4: num  0.1361 0.3929 0.0599 0.1979 0.1009 ...
 $ phi_star.5: num  0.0768 0.072 0.098 0.0354 0.1694 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	10000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.0499 0.2335 0.2758 0.397 0.1475 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 5
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	5 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 09:47:30 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:47:32 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:47:32 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:47:32 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.0778 -0.205 0.0994 -0.1822 1.3942 ...
 $ se_mean: num  0.01713 0.01939 0.00993 0.01379 0.02024 ...
 $ sd     : num  0.638 0.809 0.288 0.416 0.694 ...
 $ 2.5%   : num  -0.325 -1.693 -0.563 -1.073 0.565 ...
 $ 25%    : num  0.687 -0.765 -0.039 -0.406 0.934 ...
 $ 50%    : num  1.12 -0.243 0.109 -0.189 1.232 ...
 $ 75%    : num  1.5204 0.3242 0.2525 0.0369 1.6471 ...
 $ 97.5%  : num  2.212 1.452 0.685 0.696 3.234 ...
 $ n_eff  : num  1389 1738 844 908 1174 ...
 $ Rhat   : num  0.999 1 1.001 1.005 1.002 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd          p025          p25         p50
     <chr>        <dbl>        <dbl>         <dbl>        <dbl>       <dbl>
1    N_new 62473.258500 6817.5325843 50744.6750000 5.793600e+04 61659.50000
2 ybar_new     1.055041    0.5866091    -0.2497035 7.086629e-01     1.10705
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 09:48:24 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.24 (2149.51)"
[1] "GREG 8.6.1 estimate (se): 1.24 (0.46)"
[1] "GREG 8.9.8 estimate (se): 1.24 (0.46)"
[1] "OLD HT estimate (se): 1.24 (0.48)"
[1] "OLD GREG estimate (se): 1.14 (0.27)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 10 clusters, 0.1 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 09:48:25 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 10, num.units = 0.1"
[1] "2017-05-04 09:48:25 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:48:25 EDT"
List of 6
 $ J         : num 100
 $ K         : num 10
 $ n         : num 648
 $ x         : num [1:648] 10.524 3.524 -12.476 6.524 0.524 ...
 $ y         : num [1:648] 0.426 1.328 1.655 0.555 -0.566 ...
 $ cluster_id: int [1:648] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 10pct, model cluster_inds_only"
[1] "2017-05-04 09:48:25 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.74 seconds (Warm-up)
               0.87 seconds (Sampling)
               3.61 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.65 seconds (Warm-up)
               0.75 seconds (Sampling)
               3.4 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.9 seconds (Warm-up)
               1.33 seconds (Sampling)
               4.23 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 2.89 seconds (Warm-up)
               0.95 seconds (Sampling)
               3.84 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:48:41 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:48:43 EDT"
[1] "done making samps"
[1] "2017-05-04 09:48:43 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:48:46 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:48:46 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:48:46 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.4364 0.0313 0.9414 0.1686 0.6833
 $ se_mean: num  0.008146 0.001633 0.008213 0.001439 0.000431
 $ sd     : num  0.3204 0.0559 0.2741 0.048 0.0193
 $ 2.5%   : num  0.7511 -0.0781 0.5764 0.1047 0.6454
 $ 25%    : num  1.25091 -0.00258 0.75126 0.13467 0.67035
 $ 50%    : num  1.4624 0.0305 0.8948 0.1587 0.683
 $ 75%    : num  1.6419 0.0626 1.0663 0.1928 0.6961
 $ 97.5%  : num  2.013 0.151 1.636 0.286 0.722
 $ n_eff  : num  1548 1172 1114 1112 2000
 $ Rhat   : num  1 1 1 1 1
NULL
[1] "summarizing draws"
     mean        sd      p025      p25     p50      p75     p975    truth
1 1.43408 0.2952657 0.7798052 1.256067 1.45667 1.626515 1.981656 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 10, num.units = 0.1"
[1] "2017-05-04 09:48:51 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:48:51 EDT"
List of 8
 $ J            : num 100
 $ K            : num 10
 $ n            : num 648
 $ x            : num [1:648] 10.524 3.524 -12.476 6.524 0.524 ...
 $ y            : num [1:648] 0.426 1.328 1.655 0.555 -0.566 ...
 $ cluster_id   : int [1:648] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 798 610 696 402 426 ...
 $ log_Nj_sample: num [1:10] 0.6749 0.4063 0.5382 -0.0107 0.0473 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 10pct, model negbin"
[1] "2017-05-04 09:48:51 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.13 seconds (Warm-up)
               1.48 seconds (Sampling)
               6.61 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.01 seconds (Warm-up)
               1.63 seconds (Sampling)
               6.64 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.35 seconds (Warm-up)
               1.36 seconds (Sampling)
               5.71 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.7 seconds (Warm-up)
               1.65 seconds (Sampling)
               6.35 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:49:17 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:49:19 EDT"
[1] "done making samps"
[1] "2017-05-04 09:49:19 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:49:22 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:49:22 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:49:22 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.666 -0.586 0.114 -0.221 0.851 ...
 $ se_mean: num  0.01111 0.0149 0.00185 0.00325 0.0085 ...
 $ sd     : num  0.3582 0.5484 0.0611 0.1071 0.274 ...
 $ 2.5%   : num  0.85373 -1.55823 -0.00796 -0.44666 0.49292 ...
 $ 25%    : num  1.4738 -0.9459 0.0781 -0.282 0.6678 ...
 $ 50%    : num  1.701 -0.629 0.112 -0.22 0.79 ...
 $ 75%    : num  1.902 -0.249 0.15 -0.156 0.965 ...
 $ 97.5%  : num  2.2516 0.607 0.24164 -0.00826 1.54807 ...
 $ n_eff  : num  1039 1355 1094 1084 1038 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param        mean           sd         p025          p25          p50
     <chr>       <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 56784.72750 7585.2876798 4.168955e+04 51968.250000 56739.500000
2 ybar_new     1.53852    0.2980278 8.815185e-01     1.370734     1.562251
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 10, num.units = 0.1"
[1] "2017-05-04 09:50:11 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:50:11 EDT"
List of 8
 $ J            : num 100
 $ K            : num 10
 $ n            : num 648
 $ x            : num [1:648] 10.524 3.524 -12.476 6.524 0.524 ...
 $ y            : num [1:648] 0.426 1.328 1.655 0.555 -0.566 ...
 $ cluster_id   : int [1:648] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 798 610 696 402 426 ...
 $ log_Nj_sample: num [1:10] 0.6749 0.4063 0.5382 -0.0107 0.0473 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 10pct, model lognormal"
[1] "2017-05-04 09:50:11 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.34 seconds (Warm-up)
               1.2 seconds (Sampling)
               5.54 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.75 seconds (Warm-up)
               1.16 seconds (Sampling)
               4.91 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.28 seconds (Warm-up)
               1.26 seconds (Sampling)
               5.54 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.53 seconds (Warm-up)
               1.13 seconds (Sampling)
               5.66 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:50:33 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:50:35 EDT"
[1] "done making samps"
[1] "2017-05-04 09:50:35 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:50:38 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:50:38 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:50:38 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.665 -0.574 0.111 -0.216 0.853 ...
 $ se_mean: num  0.00988 0.0153 0.0019 0.00342 0.00814 ...
 $ sd     : num  0.3599 0.561 0.0612 0.1041 0.2652 ...
 $ 2.5%   : num  0.8498 -1.6031 -0.0109 -0.4203 0.5143 ...
 $ 25%    : num  1.4572 -0.9535 0.0746 -0.2779 0.6669 ...
 $ 50%    : num  1.687 -0.605 0.111 -0.216 0.789 ...
 $ 75%    : num  1.918 -0.234 0.147 -0.158 0.974 ...
 $ 97.5%  : num  2.2851 0.6705 0.2356 -0.0161 1.529 ...
 $ n_eff  : num  1327 1344 1041 925 1062 ...
 $ Rhat   : num  1 1 1 1.01 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param        mean           sd        p025          p25          p50
     <chr>       <dbl>        <dbl>       <dbl>        <dbl>        <dbl>
1    N_new 53246.17902 9503.7041063 33144.22030 47378.585874 53566.492942
2 ybar_new     1.49707    0.3182566     0.81454     1.313656     1.519793
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 10, num.units = 0.1"
[1] "2017-05-04 09:51:26 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:51:26 EDT"
List of 8
 $ J            : num 100
 $ K            : num 10
 $ n            : num 648
 $ x            : num [1:648] 10.524 3.524 -12.476 6.524 0.524 ...
 $ y            : num [1:648] 0.426 1.328 1.655 0.555 -0.566 ...
 $ cluster_id   : int [1:648] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 798 610 696 402 426 ...
 $ log_Nj_sample: num [1:10] 0.6749 0.4063 0.5382 -0.0107 0.0473 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 10pct, model knowsizes"
[1] "2017-05-04 09:51:26 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.98 seconds (Warm-up)
               1.09 seconds (Sampling)
               5.07 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.33 seconds (Warm-up)
               1.56 seconds (Sampling)
               4.89 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.11 seconds (Warm-up)
               1.3 seconds (Sampling)
               5.41 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 3.23 seconds (Warm-up)
               1.44 seconds (Sampling)
               4.67 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:51:46 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:51:49 EDT"
[1] "done making samps"
[1] "2017-05-04 09:51:49 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:51:52 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:51:52 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:51:52 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.664 -0.56 0.113 -0.216 0.857 ...
 $ se_mean: num  0.00958 0.01544 0.00197 0.00361 0.00737 ...
 $ sd     : num  0.3497 0.5657 0.0626 0.1141 0.2658 ...
 $ 2.5%   : num  0.8977 -1.6058 -0.0155 -0.4382 0.5026 ...
 $ 25%    : num  1.4469 -0.9558 0.0719 -0.2861 0.6689 ...
 $ 50%    : num  1.684 -0.587 0.113 -0.215 0.805 ...
 $ 75%    : num  1.903 -0.215 0.152 -0.147 0.986 ...
 $ 97.5%  : num  2.2783 0.6359 0.2406 0.0123 1.5409 ...
 $ n_eff  : num  1333 1343 1008 1002 1302 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
      mean        sd      p025      p25      p50      p75     p975    truth
1 1.504087 0.2629655 0.9098161 1.343232 1.520683 1.668875 1.972745 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 10, num.units = 0.1"
[1] "2017-05-04 09:51:56 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:51:57 EDT"
List of 12
 $ J            : num 100
 $ K            : num 10
 $ n            : num 648
 $ N            : num 47251
 $ M            : int 10
 $ x            : num [1:648] 10.524 3.524 -12.476 6.524 0.524 ...
 $ y            : num [1:648] 0.426 1.328 1.655 0.555 -0.566 ...
 $ cluster_id   : int [1:648] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 798 610 696 402 426 ...
 $ log_Nj_sample: num [1:10] 0.6749 0.4063 0.5382 -0.0107 0.0473 ...
 $ Nj_unique    : num [1:10] 257 402 426 553 610 ...
 $ M_counts     : int [1:10] 1 1 1 1 1 1 1 1 1 1
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 10pct, model bb"
[1] "2017-05-04 09:51:57 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.55 seconds (Warm-up)
               1.68 seconds (Sampling)
               10.23 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.81 seconds (Warm-up)
               1.64 seconds (Sampling)
               9.45 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.24 seconds (Warm-up)
               1.44 seconds (Sampling)
               9.68 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.17 seconds (Warm-up)
               1.21 seconds (Sampling)
               9.38 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:52:36 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:52:38 EDT"
'data.frame':	2000 obs. of  10 variables:
 $ phi_star.1 : num  0.0722 0.3058 0.2578 0.0809 0.2017 ...
 $ phi_star.2 : num  0.1948 0.1774 0.1125 0.197 0.0925 ...
 $ phi_star.3 : num  0.1149 0.2122 0.0647 0.1888 0.1337 ...
 $ phi_star.4 : num  0.116 0.0137 0.0809 0.1192 0.0816 ...
 $ phi_star.5 : num  0.2028 0.1054 0.1285 0.0938 0.1352 ...
 $ phi_star.6 : num  0.0499 0.0661 0.0251 0.0724 0.0292 ...
 $ phi_star.7 : num  0.1044 0.013 0.0943 0.1098 0.1235 ...
 $ phi_star.8 : num  0.0195 0.0646 0.1434 0.0689 0.0102 ...
 $ phi_star.9 : num  0.0617 0.012 0.0572 0.0361 0.1465 ...
 $ phi_star.10: num  0.0638 0.0296 0.0354 0.0331 0.0457 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	20000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.0722 0.3058 0.2578 0.0809 0.2017 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 10
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
  ..$ : int  10000 10001 10002 10003 10004 10005 10006 10007 10008 10009 ...
  ..$ : int  12000 12001 12002 12003 12004 12005 12006 12007 12008 12009 ...
  ..$ : int  14000 14001 14002 14003 14004 14005 14006 14007 14008 14009 ...
  ..$ : int  16000 16001 16002 16003 16004 16005 16006 16007 16008 16009 ...
  ..$ : int  18000 18001 18002 18003 18004 18005 18006 18007 18008 18009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	10 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5 6 7 8 9 10
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 09:52:38 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:52:41 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:52:41 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:52:41 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.658 -0.57 0.112 -0.216 0.853 ...
 $ se_mean: num  0.00917 0.01265 0.00172 0.00313 0.0072 ...
 $ sd     : num  0.3589 0.5659 0.0595 0.1047 0.2623 ...
 $ 2.5%   : num  0.8848 -1.5891 -0.0133 -0.4213 0.5015 ...
 $ 25%    : num  1.4344 -0.95 0.0775 -0.2812 0.6726 ...
 $ 50%    : num  1.685 -0.601 0.113 -0.217 0.809 ...
 $ 75%    : num  1.908 -0.201 0.15 -0.155 0.97 ...
 $ 97.5%  : num  2.30073 0.57633 0.22591 -0.00778 1.48284 ...
 $ n_eff  : num  1532 2000 1191 1117 1328 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 54636.219500 5234.8246097 4.479750e+04 51070.250000 54485.000000
2 ybar_new     1.563666    0.2909387 9.437763e-01     1.384812     1.579437
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 09:53:35 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.53 (1075.25)"
[1] "GREG 8.6.1 estimate (se): 1.54 (0.23)"
[1] "GREG 8.9.8 estimate (se): 1.53 (0.24)"
[1] "OLD HT estimate (se): 1.53 (0.25)"
[1] "OLD GREG estimate (se): 1.54 (0.23)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 20 clusters, 0.1 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 09:53:36 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 20, num.units = 0.1"
[1] "2017-05-04 09:53:36 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:53:36 EDT"
List of 6
 $ J         : num 100
 $ K         : num 20
 $ n         : num 1118
 $ x         : num [1:1118] 8.52 2.52 1.52 11.52 -4.48 ...
 $ y         : num [1:1118] 4.213 3.732 2.188 5.748 -0.588 ...
 $ cluster_id: int [1:1118] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 10pct, model cluster_inds_only"
[1] "2017-05-04 09:53:36 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.17 seconds (Warm-up)
               1.99 seconds (Sampling)
               6.16 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.8 seconds (Warm-up)
               1.82 seconds (Sampling)
               7.62 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.26 seconds (Warm-up)
               2.28 seconds (Sampling)
               6.54 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.04 seconds (Warm-up)
               2.22 seconds (Sampling)
               6.26 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:54:03 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:54:07 EDT"
[1] "done making samps"
[1] "2017-05-04 09:54:07 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:54:12 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:54:12 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:54:12 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.5765 0.0969 0.7725 0.2606 0.6744
 $ se_mean: num  0.00404 0.00133 0.00323 0.00108 0.00032
 $ sd     : num  0.1805 0.0593 0.1443 0.0484 0.0143
 $ 2.5%   : num  1.221 -0.018 0.556 0.187 0.647
 $ 25%    : num  1.4569 0.0559 0.675 0.2271 0.6646
 $ 50%    : num  1.5804 0.0969 0.7477 0.2541 0.674
 $ 75%    : num  1.695 0.136 0.849 0.287 0.684
 $ 97.5%  : num  1.931 0.216 1.12 0.377 0.703
 $ n_eff  : num  2000 2000 2000 2000 2000
 $ Rhat   : num  0.999 0.999 0.999 1.003 0.998
NULL
[1] "summarizing draws"
      mean        sd     p025      p25     p50      p75     p975    truth
1 1.563624 0.1591021 1.247503 1.461862 1.56436 1.669324 1.870087 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 20, num.units = 0.1"
[1] "2017-05-04 09:54:17 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:54:18 EDT"
List of 8
 $ J            : num 100
 $ K            : num 20
 $ n            : num 1118
 $ x            : num [1:1118] 8.52 2.52 1.52 11.52 -4.48 ...
 $ y            : num [1:1118] 4.213 3.732 2.188 5.748 -0.588 ...
 $ cluster_id   : int [1:1118] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 261 302 798 610 1064 ...
 $ log_Nj_sample: num [1:20] -0.443 -0.297 0.675 0.406 0.963 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 10pct, model negbin"
[1] "2017-05-04 09:54:18 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 6.88 seconds (Warm-up)
               3.15 seconds (Sampling)
               10.03 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.15 seconds (Warm-up)
               2.49 seconds (Sampling)
               9.64 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.68 seconds (Warm-up)
               2.35 seconds (Sampling)
               10.03 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 9.76 seconds (Warm-up)
               2.58 seconds (Sampling)
               12.34 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:55:00 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:55:04 EDT"
[1] "done making samps"
[1] "2017-05-04 09:55:04 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:55:09 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:55:09 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:55:09 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.5939 -0.1682 0.0969 -0.017 0.7834 ...
 $ se_mean: num  0.00441 0.00616 0.00138 0.00223 0.0034 ...
 $ sd     : num  0.1821 0.2757 0.0618 0.0997 0.1397 ...
 $ 2.5%   : num  1.226 -0.7193 -0.0253 -0.214 0.5563 ...
 $ 25%    : num  1.4752 -0.3487 0.0561 -0.079 0.6831 ...
 $ 50%    : num  1.5956 -0.1681 0.0966 -0.0166 0.7684 ...
 $ 75%    : num  1.7166 0.0112 0.1349 0.0455 0.8641 ...
 $ 97.5%  : num  1.951 0.376 0.222 0.178 1.105 ...
 $ n_eff  : num  1702 2000 2000 2000 1684 ...
 $ Rhat   : num  1 1.001 1.001 0.999 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 41918.863500 6155.4195098 29226.175000 37974.250000 41949.000000
2 ybar_new     1.523249    0.1704101     1.186906     1.416581     1.523921
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 20, num.units = 0.1"
[1] "2017-05-04 09:56:00 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:56:00 EDT"
List of 8
 $ J            : num 100
 $ K            : num 20
 $ n            : num 1118
 $ x            : num [1:1118] 8.52 2.52 1.52 11.52 -4.48 ...
 $ y            : num [1:1118] 4.213 3.732 2.188 5.748 -0.588 ...
 $ cluster_id   : int [1:1118] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 261 302 798 610 1064 ...
 $ log_Nj_sample: num [1:20] -0.443 -0.297 0.675 0.406 0.963 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 10pct, model lognormal"
[1] "2017-05-04 09:56:00 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.44 seconds (Warm-up)
               2.73 seconds (Sampling)
               8.17 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.98 seconds (Warm-up)
               1.95 seconds (Sampling)
               10.93 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.11 seconds (Warm-up)
               2.05 seconds (Sampling)
               7.16 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 6.27 seconds (Warm-up)
               2.24 seconds (Sampling)
               8.51 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:56:36 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:56:39 EDT"
[1] "done making samps"
[1] "2017-05-04 09:56:39 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:56:44 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:56:44 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:56:44 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.5968 -0.1715 0.0977 -0.0183 0.775 ...
 $ se_mean: num  0.00389 0.00613 0.00145 0.00217 0.00316 ...
 $ sd     : num  0.1738 0.2741 0.0647 0.0972 0.1413 ...
 $ 2.5%   : num  1.2337 -0.7077 -0.0267 -0.2146 0.5649 ...
 $ 25%    : num  1.4842 -0.3564 0.055 -0.0813 0.6778 ...
 $ 50%    : num  1.6013 -0.1737 0.0996 -0.0198 0.7534 ...
 $ 75%    : num  1.71244 -0.00264 0.13849 0.04383 0.84944 ...
 $ 97.5%  : num  1.907 0.363 0.225 0.172 1.107 ...
 $ n_eff  : num  2000 2000 2000 2000 2000 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 41023.699422 5939.9991167 29174.095219 37220.323952 40850.941417
2 ybar_new     1.528563    0.1613832     1.199213     1.425775     1.532762
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 20, num.units = 0.1"
[1] "2017-05-04 09:57:34 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:57:34 EDT"
List of 8
 $ J            : num 100
 $ K            : num 20
 $ n            : num 1118
 $ x            : num [1:1118] 8.52 2.52 1.52 11.52 -4.48 ...
 $ y            : num [1:1118] 4.213 3.732 2.188 5.748 -0.588 ...
 $ cluster_id   : int [1:1118] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 261 302 798 610 1064 ...
 $ log_Nj_sample: num [1:20] -0.443 -0.297 0.675 0.406 0.963 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 10pct, model knowsizes"
[1] "2017-05-04 09:57:34 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.25 seconds (Warm-up)
               2.15 seconds (Sampling)
               7.4 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.44 seconds (Warm-up)
               3.85 seconds (Sampling)
               9.29 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.84 seconds (Warm-up)
               2.36 seconds (Sampling)
               8.2 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.67 seconds (Warm-up)
               2.29 seconds (Sampling)
               6.96 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:58:06 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:58:10 EDT"
[1] "done making samps"
[1] "2017-05-04 09:58:10 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:58:15 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:58:15 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:58:15 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.5995 -0.1654 0.0963 -0.0168 0.7795 ...
 $ se_mean: num  0.00403 0.0063 0.00139 0.00202 0.00319 ...
 $ sd     : num  0.1801 0.2816 0.0622 0.0901 0.1425 ...
 $ 2.5%   : num  1.2438 -0.712 -0.0244 -0.1916 0.5588 ...
 $ 25%    : num  1.4841 -0.3532 0.055 -0.0748 0.678 ...
 $ 50%    : num  1.6056 -0.1628 0.096 -0.0151 0.7591 ...
 $ 75%    : num  1.7217 0.0163 0.1371 0.0397 0.8577 ...
 $ 97.5%  : num  1.943 0.402 0.213 0.164 1.109 ...
 $ n_eff  : num  2000 2000 2000 2000 2000 2000 2000
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
      mean        sd     p025      p25      p50      p75     p975    truth
1 1.551332 0.1591431 1.241611 1.447457 1.550574 1.657773 1.858501 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 20, num.units = 0.1"
[1] "2017-05-04 09:58:21 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 09:58:21 EDT"
List of 12
 $ J            : num 100
 $ K            : num 20
 $ n            : num 1118
 $ N            : num 47251
 $ M            : int 20
 $ x            : num [1:1118] 8.52 2.52 1.52 11.52 -4.48 ...
 $ y            : num [1:1118] 4.213 3.732 2.188 5.748 -0.588 ...
 $ cluster_id   : int [1:1118] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 261 302 798 610 1064 ...
 $ log_Nj_sample: num [1:20] -0.443 -0.297 0.675 0.406 0.963 ...
 $ Nj_unique    : num [1:20] 101 181 257 261 285 302 303 420 436 470 ...
 $ M_counts     : int [1:20] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 10pct, model bb"
[1] "2017-05-04 09:58:21 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 13.95 seconds (Warm-up)
               2.26 seconds (Sampling)
               16.21 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 13.99 seconds (Warm-up)
               2.6 seconds (Sampling)
               16.59 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 15.33 seconds (Warm-up)
               3.27 seconds (Sampling)
               18.6 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 15.44 seconds (Warm-up)
               2.14 seconds (Sampling)
               17.58 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 09:59:31 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 09:59:34 EDT"
'data.frame':	2000 obs. of  20 variables:
 $ phi_star.1 : num  0.098 0.0278 0.1093 0.2323 0.3548 ...
 $ phi_star.2 : num  0.0921 0.2037 0.1786 0.0732 0.0566 ...
 $ phi_star.3 : num  0.0599 0.0578 0.2188 0.0565 0.0258 ...
 $ phi_star.4 : num  0.0911 0.0456 0.0277 0.0966 0.1265 ...
 $ phi_star.5 : num  0.1571 0.0366 0.013 0.1493 0.1025 ...
 $ phi_star.6 : num  0.0275 0.0982 0.0303 0.0262 0.041 ...
 $ phi_star.7 : num  0.1361 0.0242 0.0466 0.1106 0.0801 ...
 $ phi_star.8 : num  0.1016 0.0936 0.0468 0.0713 0.0186 ...
 $ phi_star.9 : num  0.00987 0.06361 0.02481 0.00661 0.03355 ...
 $ phi_star.10: num  0.0264 0.0501 0.0559 0.0194 0.0611 ...
 $ phi_star.11: num  0.0351 0.0279 0.0605 0.0209 0.0225 ...
 $ phi_star.12: num  0.0277 0.102 0.0301 0.0248 0.0117 ...
 $ phi_star.13: num  0.04002 0.02868 0.00929 0.03297 0.00124 ...
 $ phi_star.14: num  0.0236 0.0122 0.0133 0.0142 0.013 ...
 $ phi_star.15: num  0.00569 0.05345 0.01922 0.00694 0.00514 ...
 $ phi_star.16: num  0.01121 0.03546 0.02324 0.01175 0.00335 ...
 $ phi_star.17: num  0.02229 0.00476 0.02545 0.01916 0.01317 ...
 $ phi_star.18: num  0.00434 0.00329 0.03442 0.00418 0.01631 ...
 $ phi_star.19: num  0.00484 0.02154 0.00299 0.00483 0.00717 ...
 $ phi_star.20: num  0.02552 0.00951 0.0294 0.01829 0.00596 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	40000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.098 0.0278 0.1093 0.2323 0.3548 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 20
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
  ..$ : int  10000 10001 10002 10003 10004 10005 10006 10007 10008 10009 ...
  ..$ : int  12000 12001 12002 12003 12004 12005 12006 12007 12008 12009 ...
  ..$ : int  14000 14001 14002 14003 14004 14005 14006 14007 14008 14009 ...
  ..$ : int  16000 16001 16002 16003 16004 16005 16006 16007 16008 16009 ...
  ..$ : int  18000 18001 18002 18003 18004 18005 18006 18007 18008 18009 ...
  ..$ : int  20000 20001 20002 20003 20004 20005 20006 20007 20008 20009 ...
  ..$ : int  22000 22001 22002 22003 22004 22005 22006 22007 22008 22009 ...
  ..$ : int  24000 24001 24002 24003 24004 24005 24006 24007 24008 24009 ...
  ..$ : int  26000 26001 26002 26003 26004 26005 26006 26007 26008 26009 ...
  ..$ : int  28000 28001 28002 28003 28004 28005 28006 28007 28008 28009 ...
  ..$ : int  30000 30001 30002 30003 30004 30005 30006 30007 30008 30009 ...
  ..$ : int  32000 32001 32002 32003 32004 32005 32006 32007 32008 32009 ...
  ..$ : int  34000 34001 34002 34003 34004 34005 34006 34007 34008 34009 ...
  ..$ : int  36000 36001 36002 36003 36004 36005 36006 36007 36008 36009 ...
  ..$ : int  38000 38001 38002 38003 38004 38005 38006 38007 38008 38009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	20 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5 6 7 8 9 10 ...
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 09:59:35 EDT"
[1] "done making par_ests"
[1] "2017-05-04 09:59:40 EDT"
[1] "making par_ests"
[1] "2017-05-04 09:59:40 EDT"
[1] "printing par_ests"
[1] "2017-05-04 09:59:40 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.5943 -0.1631 0.0989 -0.0178 0.7813 ...
 $ se_mean: num  0.00417 0.00628 0.0014 0.00207 0.00328 ...
 $ sd     : num  0.1864 0.281 0.0626 0.0926 0.1468 ...
 $ 2.5%   : num  1.2175 -0.7125 -0.0259 -0.2074 0.554 ...
 $ 25%    : num  1.4807 -0.3548 0.0577 -0.075 0.6772 ...
 $ 50%    : num  1.5964 -0.1641 0.0982 -0.0197 0.7617 ...
 $ 75%    : num  1.7198 0.0267 0.1411 0.0422 0.8631 ...
 $ 97.5%  : num  1.958 0.4 0.22 0.169 1.122 ...
 $ n_eff  : num  2000 2000 2000 2000 2000 ...
 $ Rhat   : num  1.001 1 0.999 0.999 1.001 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean          sd         p025         p25          p50
     <chr>        <dbl>       <dbl>        <dbl>       <dbl>        <dbl>
1    N_new 39105.213500 4002.959851 31484.825000 36368.25000 39074.500000
2 ybar_new     1.533881    0.152283     1.227186     1.43606     1.536633
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 10:00:35 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.62 (633.18)"
[1] "GREG 8.6.1 estimate (se): 1.61 (0.14)"
[1] "GREG 8.9.8 estimate (se): 1.59 (0.12)"
[1] "OLD HT estimate (se): 1.62 (0.16)"
[1] "OLD GREG estimate (se): 1.59 (0.16)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 30 clusters, 0.1 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 10:00:38 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 30, num.units = 0.1"
[1] "2017-05-04 10:00:39 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:00:39 EDT"
List of 6
 $ J         : num 100
 $ K         : num 30
 $ n         : num 1750
 $ x         : num [1:1750] -2.48 11.52 10.52 6.52 6.52 ...
 $ y         : num [1:1750] 1.411 1.4889 -0.0305 0.7735 0.7683 ...
 $ cluster_id: int [1:1750] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 10pct, model cluster_inds_only"
[1] "2017-05-04 10:00:39 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.13 seconds (Warm-up)
               2.92 seconds (Sampling)
               10.05 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 6.77 seconds (Warm-up)
               2.88 seconds (Sampling)
               9.65 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.53 seconds (Warm-up)
               3 seconds (Sampling)
               10.53 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.05 seconds (Warm-up)
               2.92 seconds (Sampling)
               10.97 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:01:21 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:01:26 EDT"
[1] "done making samps"
[1] "2017-05-04 10:01:26 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:01:34 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:01:34 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:01:34 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.4642 0.0378 0.745 0.2748 0.6636
 $ se_mean: num  0.00318 0.001073 0.002283 0.000826 0.000248
 $ sd     : num  0.1422 0.048 0.1021 0.0369 0.0111
 $ 2.5%   : num  1.1828 -0.0582 0.5795 0.2142 0.6423
 $ 25%    : num  1.37172 0.00875 0.67335 0.2493 0.65619
 $ 50%    : num  1.4656 0.0373 0.7342 0.2708 0.6635
 $ 75%    : num  1.5564 0.0675 0.8012 0.2968 0.6711
 $ 97.5%  : num  1.744 0.131 0.962 0.354 0.685
 $ n_eff  : num  2000 2000 2000 2000 2000
 $ Rhat   : num  0.999 1 1.001 1 0.998
NULL
[1] "summarizing draws"
      mean        sd     p025      p25      p50     p75     p975    truth
1 1.437139 0.1125537 1.218447 1.362429 1.438416 1.51323 1.656395 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 30, num.units = 0.1"
[1] "2017-05-04 10:01:41 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:01:41 EDT"
List of 8
 $ J            : num 100
 $ K            : num 30
 $ n            : num 1750
 $ x            : num [1:1750] -2.48 11.52 10.52 6.52 6.52 ...
 $ y            : num [1:1750] 1.411 1.4889 -0.0305 0.7735 0.7683 ...
 $ cluster_id   : int [1:1750] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 925 461 610 590 285 615 762 696 1120 477 ...
 $ log_Nj_sample: num [1:30] 0.823 0.126 0.406 0.373 -0.355 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 10pct, model negbin"
[1] "2017-05-04 10:01:41 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 9.75 seconds (Warm-up)
               3.74 seconds (Sampling)
               13.49 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 9.4 seconds (Warm-up)
               3.87 seconds (Sampling)
               13.27 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 14.97 seconds (Warm-up)
               3.91 seconds (Sampling)
               18.88 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 9.48 seconds (Warm-up)
               3.88 seconds (Sampling)
               13.36 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:02:41 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:02:46 EDT"
[1] "done making samps"
[1] "2017-05-04 10:02:46 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:02:54 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:02:54 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:02:54 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.5258 -0.2596 0.0928 -0.2405 0.7408 ...
 $ se_mean: num  0.00339 0.00594 0.00111 0.00205 0.00306 ...
 $ sd     : num  0.1518 0.2657 0.0495 0.0916 0.1068 ...
 $ 2.5%   : num  1.20138 -0.77326 -0.00339 -0.42311 0.56662 ...
 $ 25%    : num  1.4327 -0.4386 0.0597 -0.297 0.6661 ...
 $ 50%    : num  1.5274 -0.2599 0.0947 -0.2407 0.7278 ...
 $ 75%    : num  1.627 -0.083 0.124 -0.18 0.802 ...
 $ 97.5%  : num  1.8046 0.2578 0.1885 -0.0636 0.9835 ...
 $ n_eff  : num  2000 2000 2000 2000 1221 ...
 $ Rhat   : num  0.998 0.999 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean         sd         p025          p25          p50
     <chr>        <dbl>      <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 48634.239500 4465.24235 40064.925000 45580.500000 48637.000000
2 ybar_new     1.439425    0.11844     1.202642     1.361932     1.442514
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 30, num.units = 0.1"
[1] "2017-05-04 10:03:47 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:03:47 EDT"
List of 8
 $ J            : num 100
 $ K            : num 30
 $ n            : num 1750
 $ x            : num [1:1750] -2.48 11.52 10.52 6.52 6.52 ...
 $ y            : num [1:1750] 1.411 1.4889 -0.0305 0.7735 0.7683 ...
 $ cluster_id   : int [1:1750] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 925 461 610 590 285 615 762 696 1120 477 ...
 $ log_Nj_sample: num [1:30] 0.823 0.126 0.406 0.373 -0.355 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 10pct, model lognormal"
[1] "2017-05-04 10:03:47 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.76 seconds (Warm-up)
               3.39 seconds (Sampling)
               11.15 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.11 seconds (Warm-up)
               3.45 seconds (Sampling)
               11.56 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.58 seconds (Warm-up)
               3.26 seconds (Sampling)
               10.84 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 6.75 seconds (Warm-up)
               3.08 seconds (Sampling)
               9.83 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:04:31 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:04:36 EDT"
[1] "done making samps"
[1] "2017-05-04 10:04:36 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:04:44 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:04:44 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:04:44 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.5251 -0.2644 0.0924 -0.2374 0.741 ...
 $ se_mean: num  0.00326 0.00572 0.00115 0.00208 0.00233 ...
 $ sd     : num  0.1457 0.2556 0.0514 0.0931 0.1041 ...
 $ 2.5%   : num  1.23786 -0.7456 -0.00924 -0.41565 0.56072 ...
 $ 25%    : num  1.4265 -0.4359 0.0595 -0.2989 0.669 ...
 $ 50%    : num  1.5258 -0.2648 0.0934 -0.239 0.7323 ...
 $ 75%    : num  1.624 -0.0974 0.1249 -0.1782 0.8064 ...
 $ 97.5%  : num  1.806 0.2534 0.194 -0.0613 0.9552 ...
 $ n_eff  : num  2000 2000 2000 2000 2000 ...
 $ Rhat   : num  1 1 0.999 1 0.999 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 48960.420100 3869.7508748 41824.496812 46347.108172 48728.709566
2 ybar_new     1.445753    0.1158457     1.216114     1.368604     1.444302
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 30, num.units = 0.1"
[1] "2017-05-04 10:05:34 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:05:35 EDT"
List of 8
 $ J            : num 100
 $ K            : num 30
 $ n            : num 1750
 $ x            : num [1:1750] -2.48 11.52 10.52 6.52 6.52 ...
 $ y            : num [1:1750] 1.411 1.4889 -0.0305 0.7735 0.7683 ...
 $ cluster_id   : int [1:1750] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 925 461 610 590 285 615 762 696 1120 477 ...
 $ log_Nj_sample: num [1:30] 0.823 0.126 0.406 0.373 -0.355 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 10pct, model knowsizes"
[1] "2017-05-04 10:05:35 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 10.18 seconds (Warm-up)
               3.14 seconds (Sampling)
               13.32 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.05 seconds (Warm-up)
               3.46 seconds (Sampling)
               11.51 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.68 seconds (Warm-up)
               6.36 seconds (Sampling)
               14.04 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.8 seconds (Warm-up)
               3.09 seconds (Sampling)
               11.89 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:06:26 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:06:32 EDT"
[1] "done making samps"
[1] "2017-05-04 10:06:32 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:06:40 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:06:40 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:06:40 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.5222 -0.2615 0.0929 -0.2391 0.7429 ...
 $ se_mean: num  0.00337 0.00594 0.00112 0.00198 0.0024 ...
 $ sd     : num  0.1507 0.2657 0.0502 0.0886 0.1075 ...
 $ 2.5%   : num  1.22006 -0.78906 -0.00459 -0.40954 0.5714 ...
 $ 25%    : num  1.4196 -0.4346 0.0603 -0.2969 0.6679 ...
 $ 50%    : num  1.5189 -0.2635 0.0929 -0.2388 0.73 ...
 $ 75%    : num  1.6191 -0.0922 0.1251 -0.1817 0.8054 ...
 $ 97.5%  : num  1.8247 0.2861 0.1899 -0.0643 0.9903 ...
 $ n_eff  : num  2000 2000 2000 2000 2000 2000 2000
 $ Rhat   : num  0.999 1 0.999 0.999 1 ...
NULL
[1] "summarizing draws"
      mean        sd     p025      p25      p50      p75     p975    truth
1 1.442596 0.1071872 1.233531 1.369897 1.443571 1.514593 1.658514 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 30, num.units = 0.1"
[1] "2017-05-04 10:06:46 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:06:47 EDT"
List of 12
 $ J            : num 100
 $ K            : num 30
 $ n            : num 1750
 $ N            : num 47251
 $ M            : int 30
 $ x            : num [1:1750] -2.48 11.52 10.52 6.52 6.52 ...
 $ y            : num [1:1750] 1.411 1.4889 -0.0305 0.7735 0.7683 ...
 $ cluster_id   : int [1:1750] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 925 461 610 590 285 615 762 696 1120 477 ...
 $ log_Nj_sample: num [1:30] 0.823 0.126 0.406 0.373 -0.355 ...
 $ Nj_unique    : num [1:30] 188 192 285 290 320 322 339 345 362 369 ...
 $ M_counts     : int [1:30] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 10pct, model bb"
[1] "2017-05-04 10:06:47 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 19.61 seconds (Warm-up)
               3.83 seconds (Sampling)
               23.44 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 25.89 seconds (Warm-up)
               7.76 seconds (Sampling)
               33.65 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 26.67 seconds (Warm-up)
               7.92 seconds (Sampling)
               34.59 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 22.18 seconds (Warm-up)
               4.54 seconds (Sampling)
               26.72 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:08:46 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:08:51 EDT"
'data.frame':	2000 obs. of  30 variables:
 $ phi_star.1 : num  0.0427 0.1208 0.0889 0.0648 0.0987 ...
 $ phi_star.2 : num  0.1795 0.1063 0.0836 0.2206 0.1551 ...
 $ phi_star.3 : num  0.1065 0.1237 0.1302 0.0793 0.1529 ...
 $ phi_star.4 : num  0.0654 0.0313 0.0689 0.0738 0.0229 ...
 $ phi_star.5 : num  0.00665 0.02872 0.03447 0.03588 0.06789 ...
 $ phi_star.6 : num  0.0302 0.0187 0.0574 0.0193 0.0246 ...
 $ phi_star.7 : num  0.0529 0.0292 0.029 0.1253 0.0679 ...
 $ phi_star.8 : num  0.1402 0.0237 0.0241 0.013 0.0383 ...
 $ phi_star.9 : num  0.04424 0.04291 0.01234 0.03993 0.00885 ...
 $ phi_star.10: num  0.0266 0.0627 0.0347 0.0113 0.0605 ...
 $ phi_star.11: num  0.00222 0.04849 0.05686 0.02578 0.04382 ...
 $ phi_star.12: num  0.0235 0.0196 0.0293 0.0236 0.0364 ...
 $ phi_star.13: num  0.0208 0.0691 0.0174 0.0242 0.0266 ...
 $ phi_star.14: num  0.0136 0.0454 0.0135 0.02 0.0033 ...
 $ phi_star.15: num  0.033 0.0238 0.0649 0.028 0.022 ...
 $ phi_star.16: num  0.01373 0.04009 0.00781 0.03586 0.0333 ...
 $ phi_star.17: num  0.0118 0.0061 0.01203 0.01363 0.00106 ...
 $ phi_star.18: num  0.0228 0.0455 0.0135 0.0015 0.0214 ...
 $ phi_star.19: num  0.0282 0.01662 0.0738 0.01776 0.00652 ...
 $ phi_star.20: num  0.02433 0.00898 0.00934 0.01962 0.01816 ...
 $ phi_star.21: num  0.02467 0.01175 0.00713 0.01791 0.01737 ...
 $ phi_star.22: num  0.029 0.0143 0.0302 0.0178 0.0168 ...
 $ phi_star.23: num  0.0264 0.0206 0.018 0.0171 0.0124 ...
 $ phi_star.24: num  0.01166 0.00839 0.03564 0.00895 0.01676 ...
 $ phi_star.25: num  0.00198 0.0124 0.00928 0.02869 0.00368 ...
 $ phi_star.26: num  0.01218 0.01175 0.01563 0.00247 0.00887 ...
 $ phi_star.27: num  0.002502 0.000816 0.011159 0.009701 0.00875 ...
 $ phi_star.28: num  0.000263 0.005103 0.007868 0.00304 0.004714 ...
 $ phi_star.29: num  0.002349 0.002686 0.002309 0.000899 0.000338 ...
 $ phi_star.30: num  0.000163 0.000383 0.000772 0.000301 0.000232 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	60000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.0427 0.1208 0.0889 0.0648 0.0987 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 30
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
  ..$ : int  10000 10001 10002 10003 10004 10005 10006 10007 10008 10009 ...
  ..$ : int  12000 12001 12002 12003 12004 12005 12006 12007 12008 12009 ...
  ..$ : int  14000 14001 14002 14003 14004 14005 14006 14007 14008 14009 ...
  ..$ : int  16000 16001 16002 16003 16004 16005 16006 16007 16008 16009 ...
  ..$ : int  18000 18001 18002 18003 18004 18005 18006 18007 18008 18009 ...
  ..$ : int  20000 20001 20002 20003 20004 20005 20006 20007 20008 20009 ...
  ..$ : int  22000 22001 22002 22003 22004 22005 22006 22007 22008 22009 ...
  ..$ : int  24000 24001 24002 24003 24004 24005 24006 24007 24008 24009 ...
  ..$ : int  26000 26001 26002 26003 26004 26005 26006 26007 26008 26009 ...
  ..$ : int  28000 28001 28002 28003 28004 28005 28006 28007 28008 28009 ...
  ..$ : int  30000 30001 30002 30003 30004 30005 30006 30007 30008 30009 ...
  ..$ : int  32000 32001 32002 32003 32004 32005 32006 32007 32008 32009 ...
  ..$ : int  34000 34001 34002 34003 34004 34005 34006 34007 34008 34009 ...
  ..$ : int  36000 36001 36002 36003 36004 36005 36006 36007 36008 36009 ...
  ..$ : int  38000 38001 38002 38003 38004 38005 38006 38007 38008 38009 ...
  ..$ : int  40000 40001 40002 40003 40004 40005 40006 40007 40008 40009 ...
  ..$ : int  42000 42001 42002 42003 42004 42005 42006 42007 42008 42009 ...
  ..$ : int  44000 44001 44002 44003 44004 44005 44006 44007 44008 44009 ...
  ..$ : int  46000 46001 46002 46003 46004 46005 46006 46007 46008 46009 ...
  ..$ : int  48000 48001 48002 48003 48004 48005 48006 48007 48008 48009 ...
  ..$ : int  50000 50001 50002 50003 50004 50005 50006 50007 50008 50009 ...
  ..$ : int  52000 52001 52002 52003 52004 52005 52006 52007 52008 52009 ...
  ..$ : int  54000 54001 54002 54003 54004 54005 54006 54007 54008 54009 ...
  ..$ : int  56000 56001 56002 56003 56004 56005 56006 56007 56008 56009 ...
  ..$ : int  58000 58001 58002 58003 58004 58005 58006 58007 58008 58009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	30 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5 6 7 8 9 10 ...
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 10:08:52 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:09:00 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:09:00 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:09:00 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.5242 -0.258 0.0957 -0.2419 0.7443 ...
 $ se_mean: num  0.00329 0.00573 0.00114 0.00201 0.00244 ...
 $ sd     : num  0.1469 0.256 0.0508 0.0898 0.1092 ...
 $ 2.5%   : num  1.245429 -0.736181 -0.000443 -0.423191 0.561247 ...
 $ 25%    : num  1.424 -0.43 0.063 -0.301 0.668 ...
 $ 50%    : num  1.528 -0.262 0.095 -0.242 0.73 ...
 $ 75%    : num  1.6198 -0.0986 0.1282 -0.1828 0.8109 ...
 $ 97.5%  : num  1.8097 0.2418 0.1961 -0.0596 0.9888 ...
 $ n_eff  : num  2000 2000 2000 2000 2000 2000 2000
 $ Rhat   : num  0.999 1.001 1.003 1.001 0.999 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 45830.298000 2377.9076676 41289.750000 44183.750000 45825.500000
2 ybar_new     1.467315    0.1084009     1.255855     1.395706     1.467975
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 10:09:58 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.53 (478.38)"
[1] "GREG 8.6.1 estimate (se): 1.52 (0.11)"
[1] "GREG 8.9.8 estimate (se): 1.52 (0.09)"
[1] "OLD HT estimate (se): 1.53 (0.13)"
[1] "OLD GREG estimate (se): 1.5 (0.13)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 5 clusters, 0.25 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 10:10:11 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 5, num.units = 0.25"
[1] "2017-05-04 10:10:11 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:10:11 EDT"
List of 6
 $ J         : num 100
 $ K         : num 5
 $ n         : num 947
 $ x         : num [1:947] -1.476 3.524 0.524 -5.476 -8.476 ...
 $ y         : num [1:947] 1.15 1.915 2.187 0.511 0.498 ...
 $ cluster_id: int [1:947] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 25pct, model cluster_inds_only"
[1] "2017-05-04 10:10:11 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.24 seconds (Warm-up)
               1.33 seconds (Sampling)
               6.57 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 6.59 seconds (Warm-up)
               1.48 seconds (Sampling)
               8.07 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 6.03 seconds (Warm-up)
               0.94 seconds (Sampling)
               6.97 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.95 seconds (Warm-up)
               1.58 seconds (Sampling)
               7.53 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:10:41 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:10:44 EDT"
[1] "done making samps"
[1] "2017-05-04 10:10:44 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:10:48 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:10:48 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:10:48 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.03909 -0.00536 1.27081 0.53692 0.67661
 $ se_mean: num  0.01442 0.00707 0.01687 0.00937 0.00036
 $ sd     : num  0.5278 0.2392 0.5756 0.2652 0.0161
 $ 2.5%   : num  -0.101 -0.494 0.613 0.241 0.646
 $ 25%    : num  0.735 -0.131 0.89 0.357 0.666
 $ 50%    : num  1.08523 -0.00648 1.13317 0.46878 0.67629
 $ 75%    : num  1.377 0.123 1.466 0.638 0.688
 $ 97.5%  : num  1.968 0.478 2.691 1.228 0.71
 $ n_eff  : num  1339 1144 1164 800 2000
 $ Rhat   : num  1 1 1 1 1
NULL
[1] "summarizing draws"
      mean        sd        p025       p25      p50      p75     p975    truth
1 1.036523 0.5056459 -0.05516109 0.7531022 1.082187 1.375051 1.896429 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 5, num.units = 0.25"
[1] "2017-05-04 10:10:52 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:10:52 EDT"
List of 8
 $ J            : num 100
 $ K            : num 5
 $ n            : num 947
 $ x            : num [1:947] -1.476 3.524 0.524 -5.476 -8.476 ...
 $ y            : num [1:947] 1.15 1.915 2.187 0.511 0.498 ...
 $ cluster_id   : int [1:947] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 1064 1388 550 375 406
 $ log_Nj_sample: num [1:5] 0.962616 1.228444 0.302743 -0.080249 -0.000822
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 25pct, model negbin"
[1] "2017-05-04 10:10:52 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.92 seconds (Warm-up)
               1.78 seconds (Sampling)
               9.7 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 4.73 seconds (Warm-up)
               3.54 seconds (Sampling)
               8.27 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 9.15 seconds (Warm-up)
               2.52 seconds (Sampling)
               11.67 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.53 seconds (Warm-up)
               1.87 seconds (Sampling)
               10.4 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:11:32 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:11:35 EDT"
[1] "done making samps"
[1] "2017-05-04 10:11:35 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:11:40 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:11:40 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:11:40 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.3759 -0.566 -0.0289 0.0552 1.0736 ...
 $ se_mean: num  0.0212 0.023 0.0103 0.0134 0.0225 ...
 $ sd     : num  0.595 0.696 0.348 0.457 0.616 ...
 $ 2.5%   : num  0.0113 -1.7136 -0.7222 -0.8831 0.3887 ...
 $ 25%    : num  1.022 -1.066 -0.23 -0.221 0.659 ...
 $ 50%    : num  1.4712 -0.6467 -0.0314 0.0614 0.9158 ...
 $ 75%    : num  1.796 -0.139 0.161 0.338 1.316 ...
 $ 97.5%  : num  2.306 0.986 0.71 0.974 2.728 ...
 $ n_eff  : num  785 915 1137 1163 750 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd          p025          p25          p50
     <chr>        <dbl>        <dbl>         <dbl>        <dbl>        <dbl>
1    N_new 62917.196500 1.532886e+04 31210.9500000 5.297000e+04 63199.000000
2 ybar_new     1.167933 5.538187e-01    -0.1288182 8.674213e-01     1.243294
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 5, num.units = 0.25"
[1] "2017-05-04 10:12:28 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:12:29 EDT"
List of 8
 $ J            : num 100
 $ K            : num 5
 $ n            : num 947
 $ x            : num [1:947] -1.476 3.524 0.524 -5.476 -8.476 ...
 $ y            : num [1:947] 1.15 1.915 2.187 0.511 0.498 ...
 $ cluster_id   : int [1:947] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 1064 1388 550 375 406
 $ log_Nj_sample: num [1:5] 0.962616 1.228444 0.302743 -0.080249 -0.000822
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 25pct, model lognormal"
[1] "2017-05-04 10:12:29 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.64 seconds (Warm-up)
               2.51 seconds (Sampling)
               11.15 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 10.22 seconds (Warm-up)
               6.27 seconds (Sampling)
               16.49 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.22 seconds (Warm-up)
               2.76 seconds (Sampling)
               10.98 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.29 seconds (Warm-up)
               1.72 seconds (Sampling)
               9.01 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:13:17 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:13:20 EDT"
[1] "done making samps"
[1] "2017-05-04 10:13:20 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:13:24 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:13:24 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:13:24 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.3846 -0.5997 -0.0337 0.0563 1.095 ...
 $ se_mean: num  0.01978 0.02115 0.00926 0.0113 0.02194 ...
 $ sd     : num  0.605 0.718 0.322 0.42 0.662 ...
 $ 2.5%   : num  -0.0492 -1.8041 -0.703 -0.7948 0.3812 ...
 $ 25%    : num  1.035 -1.092 -0.223 -0.198 0.656 ...
 $ 50%    : num  1.4767 -0.6996 -0.0263 0.0574 0.9453 ...
 $ 75%    : num  1.823 -0.175 0.148 0.313 1.333 ...
 $ 97.5%  : num  2.296 0.974 0.612 0.89 2.643 ...
 $ n_eff  : num  936 1152 1207 1383 912 ...
 $ Rhat   : num  1.005 1.002 1 0.999 1.002 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd        p025          p25         p50
     <chr>        <dbl>        <dbl>       <dbl>        <dbl>       <dbl>
1    N_new 4.680527e+04 2.378408e+04 3783.167298 30870.885630 48149.79335
2 ybar_new 8.966868e-01 8.427266e-01   -1.239261     0.567227     1.02148
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 5, num.units = 0.25"
[1] "2017-05-04 10:14:11 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:14:11 EDT"
List of 8
 $ J            : num 100
 $ K            : num 5
 $ n            : num 947
 $ x            : num [1:947] -1.476 3.524 0.524 -5.476 -8.476 ...
 $ y            : num [1:947] 1.15 1.915 2.187 0.511 0.498 ...
 $ cluster_id   : int [1:947] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 1064 1388 550 375 406
 $ log_Nj_sample: num [1:5] 0.962616 1.228444 0.302743 -0.080249 -0.000822
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 25pct, model knowsizes"
[1] "2017-05-04 10:14:11 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 6.56 seconds (Warm-up)
               1.8 seconds (Sampling)
               8.36 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.71 seconds (Warm-up)
               1.89 seconds (Sampling)
               9.6 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 6.94 seconds (Warm-up)
               2.99 seconds (Sampling)
               9.93 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 6.75 seconds (Warm-up)
               1.64 seconds (Sampling)
               8.39 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:14:48 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:14:51 EDT"
[1] "done making samps"
[1] "2017-05-04 10:14:51 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:14:55 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:14:55 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:14:55 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.3419 -0.541 -0.0385 0.0826 1.1102 ...
 $ se_mean: num  0.0231 0.0265 0.0107 0.0148 0.0252 ...
 $ sd     : num  0.637 0.748 0.35 0.482 0.675 ...
 $ 2.5%   : num  -0.171 -1.778 -0.753 -0.901 0.38 ...
 $ 25%    : num  0.992 -1.065 -0.247 -0.199 0.677 ...
 $ 50%    : num  1.4353 -0.6152 -0.0471 0.0774 0.9265 ...
 $ 75%    : num  1.7936 -0.0965 0.179 0.3731 1.3219 ...
 $ 97.5%  : num  2.315 1.093 0.691 1.03 2.983 ...
 $ n_eff  : num  763 797 1072 1054 716 ...
 $ Rhat   : num  1 1 1 1 1.01 ...
NULL
[1] "summarizing draws"
      mean        sd        p025       p25      p50      p75     p975    truth
1 1.189346 0.5161096 -0.03143214 0.9199499 1.273325 1.534616 1.976738 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 5, num.units = 0.25"
[1] "2017-05-04 10:14:59 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:15:00 EDT"
List of 12
 $ J            : num 100
 $ K            : num 5
 $ n            : num 947
 $ N            : num 47251
 $ M            : int 5
 $ x            : num [1:947] -1.476 3.524 0.524 -5.476 -8.476 ...
 $ y            : num [1:947] 1.15 1.915 2.187 0.511 0.498 ...
 $ cluster_id   : int [1:947] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 1064 1388 550 375 406
 $ log_Nj_sample: num [1:5] 0.962616 1.228444 0.302743 -0.080249 -0.000822
 $ Nj_unique    : num [1:5] 375 406 550 1064 1388
 $ M_counts     : int [1:5] 1 1 1 1 1
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 25pct, model bb"
[1] "2017-05-04 10:15:00 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 9.66 seconds (Warm-up)
               2.27 seconds (Sampling)
               11.93 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 10.34 seconds (Warm-up)
               1.81 seconds (Sampling)
               12.15 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 10.96 seconds (Warm-up)
               1.76 seconds (Sampling)
               12.72 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 10.67 seconds (Warm-up)
               2.27 seconds (Sampling)
               12.94 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:15:50 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:15:53 EDT"
'data.frame':	2000 obs. of  5 variables:
 $ phi_star.1: num  0.376 0.444 0.472 0.536 0.24 ...
 $ phi_star.2: num  0.2743 0.3327 0.0738 0.0494 0.2573 ...
 $ phi_star.3: num  0.3051 0.0879 0.1277 0.2353 0.2556 ...
 $ phi_star.4: num  0.0212 0.1306 0.2455 0.1146 0.1833 ...
 $ phi_star.5: num  0.02294 0.00511 0.08061 0.06503 0.06379 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	10000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.376 0.444 0.472 0.536 0.24 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 5
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	5 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 10:15:53 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:15:57 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:15:57 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:15:57 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.3977 -0.5928 -0.0376 0.0817 1.0514 ...
 $ se_mean: num  0.0204 0.0198 0.0115 0.0129 0.0194 ...
 $ sd     : num  0.568 0.661 0.35 0.461 0.603 ...
 $ 2.5%   : num  0.101 -1.702 -0.761 -0.853 0.394 ...
 $ 25%    : num  1.083 -1.072 -0.23 -0.198 0.637 ...
 $ 50%    : num  1.4924 -0.6808 -0.0436 0.0635 0.8877 ...
 $ 75%    : num  1.803 -0.177 0.152 0.354 1.296 ...
 $ 97.5%  : num  2.28 0.837 0.684 1.065 2.568 ...
 $ n_eff  : num  771 1119 934 1286 972 ...
 $ Rhat   : num  1 1 1.01 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 59189.741000 8132.7873919 4.670828e+04 53158.500000 58223.000000
2 ybar_new     1.258695    0.4980596 1.067339e-01     1.004966     1.343362
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 10:16:49 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.2 (3930.06)"
[1] "GREG 8.6.1 estimate (se): 1.21 (0.33)"
[1] "GREG 8.9.8 estimate (se): 1.2 (0.35)"
[1] "OLD HT estimate (se): 1.2 (0.36)"
[1] "OLD GREG estimate (se): 1.21 (0.45)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 10 clusters, 0.25 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 10:16:50 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 10, num.units = 0.25"
[1] "2017-05-04 10:16:50 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:16:50 EDT"
List of 6
 $ J         : num 100
 $ K         : num 10
 $ n         : num 1706
 $ x         : num [1:1706] 11.52 -6.48 9.52 -7.48 -6.48 ...
 $ y         : num [1:1706] 2.119 0.742 1.852 0.289 2.066 ...
 $ cluster_id: int [1:1706] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 25pct, model cluster_inds_only"
[1] "2017-05-04 10:16:50 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.51 seconds (Warm-up)
               2.95 seconds (Sampling)
               10.46 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.37 seconds (Warm-up)
               2.85 seconds (Sampling)
               11.22 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.09 seconds (Warm-up)
               2.55 seconds (Sampling)
               9.64 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 6.52 seconds (Warm-up)
               2.96 seconds (Sampling)
               9.48 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:17:32 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:17:37 EDT"
[1] "done making samps"
[1] "2017-05-04 10:17:37 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:17:44 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:17:44 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:17:44 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.47 0.128 0.906 0.276 0.661
 $ se_mean: num  0.00609 0.00255 0.00603 0.00245 0.00025
 $ sd     : num  0.2724 0.0935 0.2418 0.0821 0.0112
 $ 2.5%   : num  0.9089 -0.0616 0.5816 0.168 0.6392
 $ 25%    : num  1.303 0.073 0.732 0.22 0.653
 $ 50%    : num  1.477 0.128 0.861 0.26 0.66
 $ 75%    : num  1.65 0.186 1.026 0.314 0.668
 $ 97.5%  : num  1.966 0.303 1.515 0.471 0.684
 $ n_eff  : num  2000 1345 1610 1121 2000
 $ Rhat   : num  1 1 1 1 1
NULL
[1] "summarizing draws"
      mean        sd      p025     p25      p50      p75     p975    truth
1 1.478874 0.2563039 0.9441348 1.31849 1.487898 1.645976 1.951059 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 10, num.units = 0.25"
[1] "2017-05-04 10:17:49 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:17:49 EDT"
List of 8
 $ J            : num 100
 $ K            : num 10
 $ n            : num 1706
 $ x            : num [1:1706] 11.52 -6.48 9.52 -7.48 -6.48 ...
 $ y            : num [1:1706] 2.119 0.742 1.852 0.289 2.066 ...
 $ cluster_id   : int [1:1706] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 461 611 762 696 869 ...
 $ log_Nj_sample: num [1:10] 0.126 0.408 0.629 0.538 0.76 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 25pct, model negbin"
[1] "2017-05-04 10:17:49 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 12.44 seconds (Warm-up)
               3.93 seconds (Sampling)
               16.37 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 11.06 seconds (Warm-up)
               3.26 seconds (Sampling)
               14.32 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 12.94 seconds (Warm-up)
               3.21 seconds (Sampling)
               16.15 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 12.45 seconds (Warm-up)
               3.21 seconds (Sampling)
               15.66 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:18:52 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:18:57 EDT"
[1] "done making samps"
[1] "2017-05-04 10:18:57 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:19:05 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:19:05 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:19:05 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.4365 0.0452 0.2123 -0.1928 0.9631 ...
 $ se_mean: num  0.00995 0.0123 0.00309 0.00479 0.00792 ...
 $ sd     : num  0.367 0.55 0.114 0.182 0.274 ...
 $ 2.5%   : num  0.6312 -1.0133 -0.0157 -0.5746 0.5824 ...
 $ 25%    : num  1.232 -0.318 0.141 -0.302 0.771 ...
 $ 50%    : num  1.4552 0.0267 0.21 -0.1919 0.9131 ...
 $ 75%    : num  1.675 0.392 0.287 -0.076 1.097 ...
 $ 97.5%  : num  2.118 1.227 0.441 0.165 1.641 ...
 $ n_eff  : num  1358 2000 1348 1451 1197 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param      mean           sd         p025          p25          p50
     <chr>     <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 56915.074 9593.5414789 3.761005e+04 50593.500000 57066.000000
2 ybar_new     1.461    0.3037247 7.986806e-01     1.296446     1.476847
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 10, num.units = 0.25"
[1] "2017-05-04 10:19:55 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:19:55 EDT"
List of 8
 $ J            : num 100
 $ K            : num 10
 $ n            : num 1706
 $ x            : num [1:1706] 11.52 -6.48 9.52 -7.48 -6.48 ...
 $ y            : num [1:1706] 2.119 0.742 1.852 0.289 2.066 ...
 $ cluster_id   : int [1:1706] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 461 611 762 696 869 ...
 $ log_Nj_sample: num [1:10] 0.126 0.408 0.629 0.538 0.76 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 25pct, model lognormal"
[1] "2017-05-04 10:19:55 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 10.95 seconds (Warm-up)
               4.85 seconds (Sampling)
               15.8 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 10.31 seconds (Warm-up)
               3.11 seconds (Sampling)
               13.42 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.96 seconds (Warm-up)
               3.08 seconds (Sampling)
               11.04 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 12.9 seconds (Warm-up)
               2.91 seconds (Sampling)
               15.81 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:20:52 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:20:57 EDT"
[1] "done making samps"
[1] "2017-05-04 10:20:58 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:21:05 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:21:05 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:21:05 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.4431 0.0372 0.212 -0.1966 0.9808 ...
 $ se_mean: num  0.00908 0.01197 0.00296 0.00466 0.00795 ...
 $ sd     : num  0.373 0.535 0.117 0.186 0.294 ...
 $ 2.5%   : num  0.6602 -1.0009 -0.0231 -0.559 0.5876 ...
 $ 25%    : num  1.204 -0.31 0.143 -0.315 0.779 ...
 $ 50%    : num  1.4646 0.0257 0.2074 -0.1941 0.9234 ...
 $ 75%    : num  1.6835 0.3757 0.2864 -0.0736 1.1213 ...
 $ 97.5%  : num  2.141 1.159 0.446 0.162 1.664 ...
 $ n_eff  : num  1686 2000 1565 1601 1371 ...
 $ Rhat   : num  1.001 1 0.999 1 0.999 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 53727.563156 1.049103e+04 3.166183e+04 48017.157535 54355.873306
2 ybar_new     1.471118 3.154649e-01 8.209701e-01     1.278499     1.479058
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 10, num.units = 0.25"
[1] "2017-05-04 10:21:53 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:21:53 EDT"
List of 8
 $ J            : num 100
 $ K            : num 10
 $ n            : num 1706
 $ x            : num [1:1706] 11.52 -6.48 9.52 -7.48 -6.48 ...
 $ y            : num [1:1706] 2.119 0.742 1.852 0.289 2.066 ...
 $ cluster_id   : int [1:1706] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 461 611 762 696 869 ...
 $ log_Nj_sample: num [1:10] 0.126 0.408 0.629 0.538 0.76 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 25pct, model knowsizes"
[1] "2017-05-04 10:21:53 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 9.71 seconds (Warm-up)
               3.04 seconds (Sampling)
               12.75 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 10.12 seconds (Warm-up)
               2.89 seconds (Sampling)
               13.01 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 10.4 seconds (Warm-up)
               2.83 seconds (Sampling)
               13.23 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 11.72 seconds (Warm-up)
               2.68 seconds (Sampling)
               14.4 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:22:47 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:22:52 EDT"
[1] "done making samps"
[1] "2017-05-04 10:22:52 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:23:00 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:23:00 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:23:00 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.4365 0.0661 0.211 -0.1945 0.97 ...
 $ se_mean: num  0.01065 0.01352 0.00339 0.00514 0.00804 ...
 $ sd     : num  0.36 0.55 0.114 0.177 0.29 ...
 $ 2.5%   : num  0.6464 -1.0428 -0.0247 -0.5564 0.5802 ...
 $ 25%    : num  1.22 -0.278 0.146 -0.302 0.775 ...
 $ 50%    : num  1.4654 0.0577 0.2116 -0.1923 0.9143 ...
 $ 75%    : num  1.6667 0.4022 0.2801 -0.0877 1.0963 ...
 $ 97.5%  : num  2.112 1.22 0.44 0.163 1.669 ...
 $ n_eff  : num  1140 1658 1133 1185 1302 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
      mean        sd      p025      p25      p50      p75     p975    truth
1 1.464538 0.2814964 0.8568682 1.289804 1.477826 1.655249 1.978248 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 10, num.units = 0.25"
[1] "2017-05-04 10:23:04 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:23:04 EDT"
List of 12
 $ J            : num 100
 $ K            : num 10
 $ n            : num 1706
 $ N            : num 47251
 $ M            : int 10
 $ x            : num [1:1706] 11.52 -6.48 9.52 -7.48 -6.48 ...
 $ y            : num [1:1706] 2.119 0.742 1.852 0.289 2.066 ...
 $ cluster_id   : int [1:1706] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 461 611 762 696 869 ...
 $ log_Nj_sample: num [1:10] 0.126 0.408 0.629 0.538 0.76 ...
 $ Nj_unique    : num [1:10] 261 358 461 611 629 ...
 $ M_counts     : int [1:10] 1 1 1 1 1 1 1 1 1 1
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 25pct, model bb"
[1] "2017-05-04 10:23:04 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 13.58 seconds (Warm-up)
               3.27 seconds (Sampling)
               16.85 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 13.87 seconds (Warm-up)
               3.15 seconds (Sampling)
               17.02 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 15.3 seconds (Warm-up)
               3.03 seconds (Sampling)
               18.33 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 18.73 seconds (Warm-up)
               2.92 seconds (Sampling)
               21.65 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:24:19 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:24:24 EDT"
'data.frame':	2000 obs. of  10 variables:
 $ phi_star.1 : num  0.19 0.276 0.265 0.179 0.217 ...
 $ phi_star.2 : num  0.2283 0.1903 0.0538 0.0747 0.1857 ...
 $ phi_star.3 : num  0.0845 0.0489 0.168 0.1913 0.1134 ...
 $ phi_star.4 : num  0.1742 0.0564 0.0807 0.0425 0.0948 ...
 $ phi_star.5 : num  0.0928 0.1214 0.0295 0.0966 0.1099 ...
 $ phi_star.6 : num  0.0186 0.1024 0.0222 0.0588 0.039 ...
 $ phi_star.7 : num  0.0434 0.0377 0.0719 0.1557 0.1386 ...
 $ phi_star.8 : num  0.1217 0.0696 0.2695 0.105 0.0185 ...
 $ phi_star.9 : num  0.0291 0.0648 0.0128 0.059 0.0497 ...
 $ phi_star.10: num  0.0176 0.0328 0.0262 0.0375 0.0338 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	20000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.19 0.276 0.265 0.179 0.217 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 10
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
  ..$ : int  10000 10001 10002 10003 10004 10005 10006 10007 10008 10009 ...
  ..$ : int  12000 12001 12002 12003 12004 12005 12006 12007 12008 12009 ...
  ..$ : int  14000 14001 14002 14003 14004 14005 14006 14007 14008 14009 ...
  ..$ : int  16000 16001 16002 16003 16004 16005 16006 16007 16008 16009 ...
  ..$ : int  18000 18001 18002 18003 18004 18005 18006 18007 18008 18009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	10 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5 6 7 8 9 10
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 10:24:24 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:24:32 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:24:32 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:24:32 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.4202 0.0699 0.2099 -0.1893 0.9748 ...
 $ se_mean: num  0.01053 0.01218 0.00289 0.00411 0.00858 ...
 $ sd     : num  0.385 0.545 0.115 0.184 0.304 ...
 $ 2.5%   : num  0.605 -0.93 -0.031 -0.558 0.58 ...
 $ 25%    : num  1.193 -0.286 0.143 -0.307 0.768 ...
 $ 50%    : num  1.444 0.061 0.211 -0.19 0.915 ...
 $ 75%    : num  1.6691 0.3987 0.2817 -0.0764 1.1086 ...
 $ 97.5%  : num  2.128 1.274 0.434 0.174 1.705 ...
 $ n_eff  : num  1337 2000 1584 2000 1255 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 55493.514500 5557.0606463 4.494757e+04 51601.500000 55312.000000
2 ybar_new     1.447754    0.3202776 7.590368e-01     1.248532     1.476753
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 10:25:25 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.64 (2749.98)"
[1] "GREG 8.6.1 estimate (se): 1.64 (0.23)"
[1] "GREG 8.9.8 estimate (se): 1.62 (0.24)"
[1] "OLD HT estimate (se): 1.64 (0.25)"
[1] "OLD GREG estimate (se): 1.66 (0.24)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 20 clusters, 0.25 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 10:25:28 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 20, num.units = 0.25"
[1] "2017-05-04 10:25:28 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:25:28 EDT"
List of 6
 $ J         : num 100
 $ K         : num 20
 $ n         : num 3344
 $ x         : num [1:3344] -11.476 -1.476 0.524 5.524 8.524 ...
 $ y         : num [1:3344] -1.002 0.592 2.148 3.455 3.277 ...
 $ cluster_id: int [1:3344] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 25pct, model cluster_inds_only"
[1] "2017-05-04 10:25:29 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 16.36 seconds (Warm-up)
               5.99 seconds (Sampling)
               22.35 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 13.31 seconds (Warm-up)
               5.42 seconds (Sampling)
               18.73 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 14.05 seconds (Warm-up)
               5.57 seconds (Sampling)
               19.62 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 13.17 seconds (Warm-up)
               5.69 seconds (Sampling)
               18.86 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:26:50 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:26:59 EDT"
[1] "done making samps"
[1] "2017-05-04 10:26:59 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:27:13 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:27:13 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:27:13 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.6086 -0.0127 0.7483 0.2654 0.6785
 $ se_mean: num  0.003627 0.001384 0.002872 0.001046 0.000186
 $ sd     : num  0.16222 0.06188 0.12844 0.04677 0.00832
 $ 2.5%   : num  1.277 -0.141 0.547 0.194 0.662
 $ 25%    : num  1.5047 -0.0518 0.655 0.2328 0.6728
 $ 50%    : num  1.6077 -0.0128 0.7325 0.2598 0.6784
 $ 75%    : num  1.7126 0.0281 0.8234 0.2908 0.6841
 $ 97.5%  : num  1.947 0.107 1.039 0.375 0.695
 $ n_eff  : num  2000 2000 2000 2000 2000
 $ Rhat   : num  0.999 1 1 0.999 0.999
NULL
[1] "summarizing draws"
     mean        sd     p025      p25      p50      p75     p975    truth
1 1.57231 0.1354182 1.302508 1.487699 1.571744 1.660097 1.845129 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 20, num.units = 0.25"
[1] "2017-05-04 10:27:18 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:27:19 EDT"
List of 8
 $ J            : num 100
 $ K            : num 20
 $ n            : num 3344
 $ x            : num [1:3344] -11.476 -1.476 0.524 5.524 8.524 ...
 $ y            : num [1:3344] -1.002 0.592 2.148 3.455 3.277 ...
 $ cluster_id   : int [1:3344] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 261 337 1064 615 402 ...
 $ log_Nj_sample: num [1:20] -0.4427 -0.1871 0.9626 0.4144 -0.0107 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 25pct, model negbin"
[1] "2017-05-04 10:27:19 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 21.22 seconds (Warm-up)
               6.4 seconds (Sampling)
               27.62 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 21.82 seconds (Warm-up)
               11.78 seconds (Sampling)
               33.6 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 22.36 seconds (Warm-up)
               6.27 seconds (Sampling)
               28.63 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 22.87 seconds (Warm-up)
               24.12 seconds (Sampling)
               46.99 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:29:37 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:29:46 EDT"
[1] "done making samps"
[1] "2017-05-04 10:29:46 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:30:00 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:30:00 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:30:00 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.8023 -0.5494 0.018 -0.0907 0.6791 ...
 $ se_mean: num  0.00424 0.00631 0.00159 0.00247 0.00279 ...
 $ sd     : num  0.19 0.282 0.071 0.11 0.125 ...
 $ 2.5%   : num  1.412 -1.083 -0.119 -0.303 0.489 ...
 $ 25%    : num  1.6884 -0.731 -0.0283 -0.1616 0.5893 ...
 $ 50%    : num  1.8112 -0.5577 0.0165 -0.0939 0.6606 ...
 $ 75%    : num  1.9236 -0.3734 0.0645 -0.0191 0.7483 ...
 $ 97.5%  : num  2.1594 0.0549 0.1615 0.1293 0.965 ...
 $ n_eff  : num  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...
 $ Rhat   : num  0.999 0.999 0.999 0.999 1.001 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 53091.878000 6911.1242526 38367.825000 48793.500000 53369.000000
2 ybar_new     1.587198    0.1587705     1.246736     1.489879     1.596689
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 20, num.units = 0.25"
[1] "2017-05-04 10:30:52 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:30:52 EDT"
List of 8
 $ J            : num 100
 $ K            : num 20
 $ n            : num 3344
 $ x            : num [1:3344] -11.476 -1.476 0.524 5.524 8.524 ...
 $ y            : num [1:3344] -1.002 0.592 2.148 3.455 3.277 ...
 $ cluster_id   : int [1:3344] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 261 337 1064 615 402 ...
 $ log_Nj_sample: num [1:20] -0.4427 -0.1871 0.9626 0.4144 -0.0107 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 25pct, model lognormal"
[1] "2017-05-04 10:30:52 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 21.19 seconds (Warm-up)
               10.7 seconds (Sampling)
               31.89 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 14.67 seconds (Warm-up)
               11.52 seconds (Sampling)
               26.19 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 19.45 seconds (Warm-up)
               5.92 seconds (Sampling)
               25.37 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 16.34 seconds (Warm-up)
               6.03 seconds (Sampling)
               22.37 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:32:40 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:32:49 EDT"
[1] "done making samps"
[1] "2017-05-04 10:32:50 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:33:04 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:33:04 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:33:04 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.8022 -0.5414 0.0176 -0.0859 0.6809 ...
 $ se_mean: num  0.00411 0.00726 0.00172 0.00282 0.00287 ...
 $ sd     : num  0.1839 0.2793 0.0722 0.1103 0.1282 ...
 $ 2.5%   : num  1.432 -1.085 -0.125 -0.311 0.486 ...
 $ 25%    : num  1.6805 -0.729 -0.0274 -0.1546 0.587 ...
 $ 50%    : num  1.8087 -0.5436 0.0167 -0.0871 0.6624 ...
 $ 75%    : num  1.9208 -0.3589 0.0628 -0.0145 0.7523 ...
 $ 97.5%  : num  2.1534 0.00501 0.16548 0.1313 0.98227 ...
 $ n_eff  : num  2000 1479 1766 1524 2000 ...
 $ Rhat   : num  1.001 1.002 1 0.999 0.999 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 52280.664377 6479.5323014 39556.174355 48066.986104 52219.456692
2 ybar_new     1.605294    0.1455613     1.304622     1.512998     1.607719
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 20, num.units = 0.25"
[1] "2017-05-04 10:33:53 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:33:53 EDT"
List of 8
 $ J            : num 100
 $ K            : num 20
 $ n            : num 3344
 $ x            : num [1:3344] -11.476 -1.476 0.524 5.524 8.524 ...
 $ y            : num [1:3344] -1.002 0.592 2.148 3.455 3.277 ...
 $ cluster_id   : int [1:3344] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 261 337 1064 615 402 ...
 $ log_Nj_sample: num [1:20] -0.4427 -0.1871 0.9626 0.4144 -0.0107 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 25pct, model knowsizes"
[1] "2017-05-04 10:33:53 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 11.63 seconds (Warm-up)
               5.94 seconds (Sampling)
               17.57 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 14.04 seconds (Warm-up)
               5.54 seconds (Sampling)
               19.58 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 16.65 seconds (Warm-up)
               5.28 seconds (Sampling)
               21.93 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 15.57 seconds (Warm-up)
               5.93 seconds (Sampling)
               21.5 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:35:16 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:35:25 EDT"
[1] "done making samps"
[1] "2017-05-04 10:35:25 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:35:40 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:35:40 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:35:40 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.8074 -0.5494 0.0191 -0.0878 0.675 ...
 $ se_mean: num  0.00429 0.0066 0.00168 0.00248 0.00276 ...
 $ sd     : num  0.175 0.2666 0.0702 0.1108 0.1234 ...
 $ 2.5%   : num  1.46 -1.066 -0.119 -0.309 0.48 ...
 $ 25%    : num  1.6913 -0.7206 -0.0289 -0.1586 0.5867 ...
 $ 50%    : num  1.811 -0.5544 0.0185 -0.088 0.6584 ...
 $ 75%    : num  1.9243 -0.3844 0.0663 -0.0159 0.7462 ...
 $ 97.5%  : num  2.1443 -0.0108 0.1549 0.1316 0.9509 ...
 $ n_eff  : num  1660 1632 1736 2000 2000 ...
 $ Rhat   : num  1 0.999 1.001 1.001 1 ...
NULL
[1] "summarizing draws"
      mean        sd     p025      p25      p50      p75     p975    truth
1 1.649447 0.1290971 1.388959 1.565039 1.654193 1.735479 1.886775 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 20, num.units = 0.25"
[1] "2017-05-04 10:35:45 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:35:45 EDT"
List of 12
 $ J            : num 100
 $ K            : num 20
 $ n            : num 3344
 $ N            : num 47251
 $ M            : int 20
 $ x            : num [1:3344] -11.476 -1.476 0.524 5.524 8.524 ...
 $ y            : num [1:3344] -1.002 0.592 2.148 3.455 3.277 ...
 $ cluster_id   : int [1:3344] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 261 337 1064 615 402 ...
 $ log_Nj_sample: num [1:20] -0.4427 -0.1871 0.9626 0.4144 -0.0107 ...
 $ Nj_unique    : num [1:20] 197 261 337 375 402 409 431 460 477 550 ...
 $ M_counts     : int [1:20] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 25pct, model bb"
[1] "2017-05-04 10:35:45 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 40.95 seconds (Warm-up)
               6.32 seconds (Sampling)
               47.27 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 36.3 seconds (Warm-up)
               6.2 seconds (Sampling)
               42.5 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 35.98 seconds (Warm-up)
               6.14 seconds (Sampling)
               42.12 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 27.13 seconds (Warm-up)
               5.97 seconds (Sampling)
               33.1 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:38:32 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:38:42 EDT"
'data.frame':	2000 obs. of  20 variables:
 $ phi_star.1 : num  0.1306 0.1554 0.0495 0.1274 0.0588 ...
 $ phi_star.2 : num  0.0145 0.1122 0.1141 0.05 0.049 ...
 $ phi_star.3 : num  0.0524 0.1132 0.058 0.0937 0.1352 ...
 $ phi_star.4 : num  0.1364 0.0121 0.0588 0.0186 0.064 ...
 $ phi_star.5 : num  0.03387 0.00876 0.03309 0.09965 0.11473 ...
 $ phi_star.6 : num  0.1538 0.0243 0.1095 0.0195 0.1121 ...
 $ phi_star.7 : num  0.0588 0.1246 0.0115 0.0355 0.139 ...
 $ phi_star.8 : num  0.0506 0.015 0.0177 0.1567 0.016 ...
 $ phi_star.9 : num  0.0268 0.0384 0.2423 0.0366 0.0502 ...
 $ phi_star.10: num  0.023 0.0529 0.0139 0.0742 0.0122 ...
 $ phi_star.11: num  0.0282 0.0268 0.0659 0.0385 0.0253 ...
 $ phi_star.12: num  0.1236 0.0372 0.043 0.0753 0.0449 ...
 $ phi_star.13: num  0.0887 0.09115 0.03699 0.00524 0.07656 ...
 $ phi_star.14: num  0.0222 0.0393 0.0182 0.0314 0.0191 ...
 $ phi_star.15: num  0.0102 0.057 0.0131 0.0201 0.0425 ...
 $ phi_star.16: num  0.0018 0.03398 0.04717 0.03992 0.00862 ...
 $ phi_star.17: num  0.00709 0.01259 0.03278 0.01663 0.00141 ...
 $ phi_star.18: num  0.02566 0.00565 0.0114 0.0352 0.01059 ...
 $ phi_star.19: num  0.00231 0.00691 0.01158 0.0022 0.00642 ...
 $ phi_star.20: num  0.00939 0.03262 0.01149 0.02378 0.01329 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	40000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.1306 0.1554 0.0495 0.1274 0.0588 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 20
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
  ..$ : int  10000 10001 10002 10003 10004 10005 10006 10007 10008 10009 ...
  ..$ : int  12000 12001 12002 12003 12004 12005 12006 12007 12008 12009 ...
  ..$ : int  14000 14001 14002 14003 14004 14005 14006 14007 14008 14009 ...
  ..$ : int  16000 16001 16002 16003 16004 16005 16006 16007 16008 16009 ...
  ..$ : int  18000 18001 18002 18003 18004 18005 18006 18007 18008 18009 ...
  ..$ : int  20000 20001 20002 20003 20004 20005 20006 20007 20008 20009 ...
  ..$ : int  22000 22001 22002 22003 22004 22005 22006 22007 22008 22009 ...
  ..$ : int  24000 24001 24002 24003 24004 24005 24006 24007 24008 24009 ...
  ..$ : int  26000 26001 26002 26003 26004 26005 26006 26007 26008 26009 ...
  ..$ : int  28000 28001 28002 28003 28004 28005 28006 28007 28008 28009 ...
  ..$ : int  30000 30001 30002 30003 30004 30005 30006 30007 30008 30009 ...
  ..$ : int  32000 32001 32002 32003 32004 32005 32006 32007 32008 32009 ...
  ..$ : int  34000 34001 34002 34003 34004 34005 34006 34007 34008 34009 ...
  ..$ : int  36000 36001 36002 36003 36004 36005 36006 36007 36008 36009 ...
  ..$ : int  38000 38001 38002 38003 38004 38005 38006 38007 38008 38009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	20 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5 6 7 8 9 10 ...
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 10:38:43 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:38:57 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:38:57 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:38:57 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.8036 -0.5534 0.0198 -0.0898 0.6789 ...
 $ se_mean: num  0.00444 0.00602 0.00161 0.00269 0.00291 ...
 $ sd     : num  0.1862 0.2692 0.0722 0.1131 0.1299 ...
 $ 2.5%   : num  1.423 -1.093 -0.122 -0.314 0.48 ...
 $ 25%    : num  1.6893 -0.7323 -0.0272 -0.1632 0.5854 ...
 $ 50%    : num  1.8098 -0.5504 0.02 -0.0898 0.6612 ...
 $ 75%    : num  1.9235 -0.3803 0.0683 -0.0191 0.7446 ...
 $ 97.5%  : num  2.16703 -0.00917 0.1647 0.12697 0.97206 ...
 $ n_eff  : num  1757 2000 2000 1768 2000 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 50207.477000 3797.8209187 43156.700000 47580.750000 50161.500000
2 ybar_new     1.657233    0.1397775     1.373053     1.568767     1.659363
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 10:39:53 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.68 (1513.07)"
[1] "GREG 8.6.1 estimate (se): 1.68 (0.13)"
[1] "GREG 8.9.8 estimate (se): 1.68 (0.14)"
[1] "OLD HT estimate (se): 1.68 (0.16)"
[1] "OLD GREG estimate (se): 1.67 (0.19)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 30 clusters, 0.25 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 10:40:21 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 30, num.units = 0.25"
[1] "2017-05-04 10:40:21 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:40:22 EDT"
List of 6
 $ J         : num 100
 $ K         : num 30
 $ n         : num 4421
 $ x         : num [1:4421] 7.524 12.524 -9.476 -10.476 0.524 ...
 $ y         : num [1:4421] 4.514 5.965 -1.217 -0.224 1.614 ...
 $ cluster_id: int [1:4421] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 25pct, model cluster_inds_only"
[1] "2017-05-04 10:40:22 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 17.38 seconds (Warm-up)
               12.35 seconds (Sampling)
               29.73 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 17.6 seconds (Warm-up)
               7.43 seconds (Sampling)
               25.03 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 16.78 seconds (Warm-up)
               7.72 seconds (Sampling)
               24.5 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 20.54 seconds (Warm-up)
               7.91 seconds (Sampling)
               28.45 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:42:12 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:42:24 EDT"
[1] "done making samps"
[1] "2017-05-04 10:42:25 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:42:43 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:42:43 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:42:43 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.5157 0.0434 0.6876 0.2682 0.6597
 $ se_mean: num  0.002883 0.001206 0.002138 0.000829 0.000161
 $ sd     : num  0.12893 0.04844 0.09561 0.03708 0.00722
 $ 2.5%   : num  1.2519 -0.0522 0.5279 0.2038 0.6459
 $ 25%    : num  1.4339 0.0125 0.6188 0.2416 0.6548
 $ 50%    : num  1.5146 0.0431 0.6794 0.2651 0.6595
 $ 75%    : num  1.6023 0.0748 0.7454 0.2903 0.6646
 $ 97.5%  : num  1.766 0.142 0.898 0.349 0.674
 $ n_eff  : num  2000 1614 2000 2000 2000
 $ Rhat   : num  1.001 1 1 1.001 0.999
NULL
[1] "summarizing draws"
      mean         sd     p025      p25      p50     p75     p975    truth
1 1.515984 0.09981202 1.317998 1.449086 1.516498 1.58436 1.712644 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 30, num.units = 0.25"
[1] "2017-05-04 10:42:50 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:42:50 EDT"
List of 8
 $ J            : num 100
 $ K            : num 30
 $ n            : num 4421
 $ x            : num [1:4421] 7.524 12.524 -9.476 -10.476 0.524 ...
 $ y            : num [1:4421] 4.514 5.965 -1.217 -0.224 1.614 ...
 $ cluster_id   : int [1:4421] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 302 186 798 461 337 ...
 $ log_Nj_sample: num [1:30] -0.297 -0.781 0.675 0.126 -0.187 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 25pct, model negbin"
[1] "2017-05-04 10:42:50 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 21.04 seconds (Warm-up)
               9.06 seconds (Sampling)
               30.1 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 24.9 seconds (Warm-up)
               8.65 seconds (Sampling)
               33.55 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 19.65 seconds (Warm-up)
               12.59 seconds (Sampling)
               32.24 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 28.21 seconds (Warm-up)
               17.8 seconds (Sampling)
               46.01 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:45:15 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:45:27 EDT"
[1] "done making samps"
[1] "2017-05-04 10:45:27 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:45:47 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:45:47 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:45:47 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.5044 0.0491 0.0745 -0.1458 0.7016 ...
 $ se_mean: num  0.003 0.00515 0.00128 0.00176 0.00219 ...
 $ sd     : num  0.1343 0.2077 0.0494 0.0785 0.0981 ...
 $ 2.5%   : num  1.2344 -0.3487 -0.0239 -0.3051 0.5405 ...
 $ 25%    : num  1.4186 -0.0919 0.0412 -0.1964 0.6296 ...
 $ 50%    : num  1.503 0.0554 0.0745 -0.1463 0.6911 ...
 $ 75%    : num  1.591 0.184 0.106 -0.092 0.762 ...
 $ 97.5%  : num  1.77663 0.4572 0.17436 0.00919 0.92273 ...
 $ n_eff  : num  2000 1627 1494 2000 2000 ...
 $ Rhat   : num  0.999 0.999 1.002 1.001 0.999 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 46358.617000 4989.3547865 35590.900000 43200.500000 46435.500000
2 ybar_new     1.519106    0.1016999     1.320292     1.453796     1.517857
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 30, num.units = 0.25"
[1] "2017-05-04 10:46:41 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:46:41 EDT"
List of 8
 $ J            : num 100
 $ K            : num 30
 $ n            : num 4421
 $ x            : num [1:4421] 7.524 12.524 -9.476 -10.476 0.524 ...
 $ y            : num [1:4421] 4.514 5.965 -1.217 -0.224 1.614 ...
 $ cluster_id   : int [1:4421] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 302 186 798 461 337 ...
 $ log_Nj_sample: num [1:30] -0.297 -0.781 0.675 0.126 -0.187 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 25pct, model lognormal"
[1] "2017-05-04 10:46:41 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 21.89 seconds (Warm-up)
               7.72 seconds (Sampling)
               29.61 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 24.91 seconds (Warm-up)
               8.5 seconds (Sampling)
               33.41 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 22.62 seconds (Warm-up)
               7.78 seconds (Sampling)
               30.4 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 19.4 seconds (Warm-up)
               7.9 seconds (Sampling)
               27.3 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:48:44 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:48:56 EDT"
[1] "done making samps"
[1] "2017-05-04 10:48:57 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:49:15 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:49:15 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:49:15 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.5064 0.0453 0.0736 -0.1418 0.702 ...
 $ se_mean: num  0.00308 0.0048 0.00107 0.00173 0.00225 ...
 $ sd     : num  0.1377 0.2146 0.048 0.0773 0.1005 ...
 $ 2.5%   : num  1.2261 -0.385 -0.0222 -0.2962 0.538 ...
 $ 25%    : num  1.4203 -0.096 0.0424 -0.1908 0.6337 ...
 $ 50%    : num  1.5099 0.0456 0.0736 -0.1419 0.6895 ...
 $ 75%    : num  1.5959 0.1877 0.1046 -0.0933 0.7586 ...
 $ 97.5%  : num  1.7681 0.4512 0.1675 0.0126 0.9367 ...
 $ n_eff  : num  2000 2000 2000 2000 2000 ...
 $ Rhat   : num  1.001 1.001 0.999 0.999 1.001 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean          sd         p025          p25          p50
     <chr>        <dbl>       <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 46111.863742 4348.139798 37811.796507 43200.514579 45879.372964
2 ybar_new     1.520282    0.106873     1.301857     1.452433     1.520232
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 30, num.units = 0.25"
[1] "2017-05-04 10:50:07 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:50:07 EDT"
List of 8
 $ J            : num 100
 $ K            : num 30
 $ n            : num 4421
 $ x            : num [1:4421] 7.524 12.524 -9.476 -10.476 0.524 ...
 $ y            : num [1:4421] 4.514 5.965 -1.217 -0.224 1.614 ...
 $ cluster_id   : int [1:4421] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 302 186 798 461 337 ...
 $ log_Nj_sample: num [1:30] -0.297 -0.781 0.675 0.126 -0.187 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 25pct, model knowsizes"
[1] "2017-05-04 10:50:07 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 18.43 seconds (Warm-up)
               7.52 seconds (Sampling)
               25.95 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 19.41 seconds (Warm-up)
               7.55 seconds (Sampling)
               26.96 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 15.5 seconds (Warm-up)
               14.04 seconds (Sampling)
               29.54 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 17.97 seconds (Warm-up)
               7.84 seconds (Sampling)
               25.81 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:51:58 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:52:10 EDT"
[1] "done making samps"
[1] "2017-05-04 10:52:11 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:52:29 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:52:29 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:52:29 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.5088 0.0418 0.0738 -0.1456 0.7029 ...
 $ se_mean: num  0.00317 0.00461 0.00112 0.00175 0.00228 ...
 $ sd     : num  0.1416 0.206 0.0503 0.0782 0.1019 ...
 $ 2.5%   : num  1.2243 -0.3529 -0.0258 -0.305 0.5314 ...
 $ 25%    : num  1.4132 -0.0997 0.0404 -0.1973 0.631 ...
 $ 50%    : num  1.5098 0.0453 0.0742 -0.1469 0.6938 ...
 $ 75%    : num  1.6051 0.1771 0.1074 -0.0934 0.7619 ...
 $ 97.5%  : num  1.78084 0.45214 0.16691 0.00872 0.92554 ...
 $ n_eff  : num  2000 2000 2000 2000 2000 2000 2000
 $ Rhat   : num  1 0.999 0.999 0.999 0.999 ...
NULL
[1] "summarizing draws"
      mean        sd     p025      p25      p50      p75     p975    truth
1 1.515661 0.1041619 1.310171 1.448436 1.516888 1.582388 1.721102 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 30, num.units = 0.25"
[1] "2017-05-04 10:52:37 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 10:52:37 EDT"
List of 12
 $ J            : num 100
 $ K            : num 30
 $ n            : num 4421
 $ N            : num 47251
 $ M            : int 30
 $ x            : num [1:4421] 7.524 12.524 -9.476 -10.476 0.524 ...
 $ y            : num [1:4421] 4.514 5.965 -1.217 -0.224 1.614 ...
 $ cluster_id   : int [1:4421] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 302 186 798 461 337 ...
 $ log_Nj_sample: num [1:30] -0.297 -0.781 0.675 0.126 -0.187 ...
 $ Nj_unique    : num [1:30] 105 136 186 263 281 302 337 402 409 413 ...
 $ M_counts     : int [1:30] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 25pct, model bb"
[1] "2017-05-04 10:52:37 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 53.82 seconds (Warm-up)
               8.45 seconds (Sampling)
               62.27 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 52.06 seconds (Warm-up)
               8.41 seconds (Sampling)
               60.47 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 51.01 seconds (Warm-up)
               8.67 seconds (Sampling)
               59.68 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 38.89 seconds (Warm-up)
               8.2 seconds (Sampling)
               47.09 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 10:56:29 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 10:56:42 EDT"
'data.frame':	2000 obs. of  30 variables:
 $ phi_star.1 : num  0.0546 0.1415 0.1883 0.1427 0.2255 ...
 $ phi_star.2 : num  0.1874 0.067 0.1736 0.1028 0.0724 ...
 $ phi_star.3 : num  0.0994 0.0491 0.0838 0.1158 0.0491 ...
 $ phi_star.4 : num  0.00852 0.05328 0.02462 0.03941 0.0666 ...
 $ phi_star.5 : num  0.063 0.0264 0.0474 0.0876 0.0452 ...
 $ phi_star.6 : num  0.00593 0.03433 0.09739 0.04698 0.01137 ...
 $ phi_star.7 : num  0.08855 0.03687 0.08209 0.00164 0.00971 ...
 $ phi_star.8 : num  0.022 0.0663 0.0472 0.0411 0.0734 ...
 $ phi_star.9 : num  0.097 0.1103 0.0194 0.0272 0.0941 ...
 $ phi_star.10: num  0.0236 0.0033 0.013 0.0747 0.0338 ...
 $ phi_star.11: num  0.00758 0.01373 0.01115 0.04487 0.02365 ...
 $ phi_star.12: num  0.0492 0.0227 0.0211 0.0261 0.0344 ...
 $ phi_star.13: num  0.0544 0.0164 0.0373 0.0104 0.026 ...
 $ phi_star.14: num  0.0425 0.0461 0.011 0.0307 0.0271 ...
 $ phi_star.15: num  0.00577 0.00699 0.01003 0.05187 0.01046 ...
 $ phi_star.16: num  0.0109 0.0336 0.0193 0.0598 0.0301 ...
 $ phi_star.17: num  0.0174 0.025 0.007 0.0112 0.0457 ...
 $ phi_star.18: num  0.04013 0.04021 0.02705 0.01207 0.00901 ...
 $ phi_star.19: num  0.01058 0.00938 0.01831 0.01152 0.0131 ...
 $ phi_star.20: num  0.0232 0.0698 0.0152 0.0108 0.0171 ...
 $ phi_star.21: num  0.02821 0.01092 0.00414 0.00313 0.01166 ...
 $ phi_star.22: num  0.01195 0.02542 0.0041 0.00689 0.01248 ...
 $ phi_star.23: num  0.01065 0.01701 0.00441 0.01422 0.02445 ...
 $ phi_star.24: num  0.01002 0.02678 0.00476 0.00648 0.00272 ...
 $ phi_star.25: num  0.01307 0.02596 0.00846 0.00415 0.00967 ...
 $ phi_star.26: num  0.00527 0.00911 0.00436 0.00284 0.00596 ...
 $ phi_star.27: num  0.006398 0.004781 0.004183 0.000407 0.008275 ...
 $ phi_star.28: num  0.00224 0.00362 0.00909 0.00639 0.00465 ...
 $ phi_star.29: num  0.000263 0.002954 0.002012 0.006123 0.001753 ...
 $ phi_star.30: num  0.00004 0.000985 0.000222 0.000204 0.000488 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	60000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.0546 0.1415 0.1883 0.1427 0.2255 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 30
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
  ..$ : int  10000 10001 10002 10003 10004 10005 10006 10007 10008 10009 ...
  ..$ : int  12000 12001 12002 12003 12004 12005 12006 12007 12008 12009 ...
  ..$ : int  14000 14001 14002 14003 14004 14005 14006 14007 14008 14009 ...
  ..$ : int  16000 16001 16002 16003 16004 16005 16006 16007 16008 16009 ...
  ..$ : int  18000 18001 18002 18003 18004 18005 18006 18007 18008 18009 ...
  ..$ : int  20000 20001 20002 20003 20004 20005 20006 20007 20008 20009 ...
  ..$ : int  22000 22001 22002 22003 22004 22005 22006 22007 22008 22009 ...
  ..$ : int  24000 24001 24002 24003 24004 24005 24006 24007 24008 24009 ...
  ..$ : int  26000 26001 26002 26003 26004 26005 26006 26007 26008 26009 ...
  ..$ : int  28000 28001 28002 28003 28004 28005 28006 28007 28008 28009 ...
  ..$ : int  30000 30001 30002 30003 30004 30005 30006 30007 30008 30009 ...
  ..$ : int  32000 32001 32002 32003 32004 32005 32006 32007 32008 32009 ...
  ..$ : int  34000 34001 34002 34003 34004 34005 34006 34007 34008 34009 ...
  ..$ : int  36000 36001 36002 36003 36004 36005 36006 36007 36008 36009 ...
  ..$ : int  38000 38001 38002 38003 38004 38005 38006 38007 38008 38009 ...
  ..$ : int  40000 40001 40002 40003 40004 40005 40006 40007 40008 40009 ...
  ..$ : int  42000 42001 42002 42003 42004 42005 42006 42007 42008 42009 ...
  ..$ : int  44000 44001 44002 44003 44004 44005 44006 44007 44008 44009 ...
  ..$ : int  46000 46001 46002 46003 46004 46005 46006 46007 46008 46009 ...
  ..$ : int  48000 48001 48002 48003 48004 48005 48006 48007 48008 48009 ...
  ..$ : int  50000 50001 50002 50003 50004 50005 50006 50007 50008 50009 ...
  ..$ : int  52000 52001 52002 52003 52004 52005 52006 52007 52008 52009 ...
  ..$ : int  54000 54001 54002 54003 54004 54005 54006 54007 54008 54009 ...
  ..$ : int  56000 56001 56002 56003 56004 56005 56006 56007 56008 56009 ...
  ..$ : int  58000 58001 58002 58003 58004 58005 58006 58007 58008 58009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	30 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5 6 7 8 9 10 ...
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 10:56:42 EDT"
[1] "done making par_ests"
[1] "2017-05-04 10:57:02 EDT"
[1] "making par_ests"
[1] "2017-05-04 10:57:02 EDT"
[1] "printing par_ests"
[1] "2017-05-04 10:57:02 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.5052 0.0425 0.0732 -0.1446 0.71 ...
 $ se_mean: num  0.0031 0.00477 0.0011 0.00168 0.00238 ...
 $ sd     : num  0.139 0.213 0.049 0.075 0.106 ...
 $ 2.5%   : num  1.2387 -0.3874 -0.0219 -0.3013 0.5358 ...
 $ 25%    : num  1.4141 -0.0989 0.0407 -0.1938 0.6363 ...
 $ 50%    : num  1.5053 0.0359 0.0737 -0.1438 0.6992 ...
 $ 75%    : num  1.5934 0.1841 0.1054 -0.0943 0.7677 ...
 $ 97.5%  : num  1.780422 0.459757 0.167138 -0.000346 0.95543 ...
 $ n_eff  : num  2000 2000 2000 2000 2000 2000 2000
 $ Rhat   : num  1.003 1.001 0.999 0.999 0.999 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025        p25          p50
     <chr>        <dbl>        <dbl>        <dbl>      <dbl>        <dbl>
1    N_new 41892.054000 3.027850e+03 36269.600000 39831.2500 41884.500000
2 ybar_new     1.519223 9.796827e-02     1.326095     1.4558     1.518023
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 10:58:01 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.51 (1166.93)"
[1] "GREG 8.6.1 estimate (se): 1.5 (0.1)"
[1] "GREG 8.9.8 estimate (se): 1.51 (0.09)"
[1] "OLD HT estimate (se): 1.51 (0.12)"
[1] "OLD GREG estimate (se): 1.51 (0.12)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 5 clusters, 0.5 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 11:00:21 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 5, num.units = 0.5"
[1] "2017-05-04 11:00:21 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:00:22 EDT"
List of 6
 $ J         : num 100
 $ K         : num 5
 $ n         : num 1396
 $ x         : num [1:1396] 4.52 2.52 9.52 1.52 10.52 ...
 $ y         : num [1:1396] 1.371 1.203 1.614 0.217 0.583 ...
 $ cluster_id: int [1:1396] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 50pct, model cluster_inds_only"
[1] "2017-05-04 11:00:22 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.41 seconds (Warm-up)
               1.69 seconds (Sampling)
               9.1 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.93 seconds (Warm-up)
               2.44 seconds (Sampling)
               11.37 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 7.38 seconds (Warm-up)
               2.48 seconds (Sampling)
               9.86 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 9.14 seconds (Warm-up)
               2.3 seconds (Sampling)
               11.44 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:01:04 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:01:08 EDT"
[1] "done making samps"
[1] "2017-05-04 11:01:08 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:01:14 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:01:14 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:01:14 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.12416 0.00723 1.27345 0.49242 0.67229
 $ se_mean: num  0.017064 0.006217 0.020548 0.007464 0.000294
 $ sd     : num  0.5382 0.2179 0.6185 0.2611 0.0131
 $ 2.5%   : num  -0.0733 -0.4209 0.5897 0.2242 0.6471
 $ 25%    : num  0.827 -0.121 0.881 0.33 0.663
 $ 50%    : num  1.188 0.0021 1.1115 0.43 0.6723
 $ 75%    : num  1.477 0.14 1.489 0.576 0.681
 $ 97.5%  : num  2.03 0.448 2.887 1.128 0.698
 $ n_eff  : num  995 1229 906 1224 2000
 $ Rhat   : num  1 1 1.01 1 1
NULL
[1] "summarizing draws"
      mean        sd        p025       p25      p50      p75     p975    truth
1 1.157417 0.5274278 -0.07568728 0.8826929 1.221666 1.506984 2.038238 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 5, num.units = 0.5"
[1] "2017-05-04 11:01:18 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:01:18 EDT"
List of 8
 $ J            : num 100
 $ K            : num 5
 $ n            : num 1396
 $ x            : num [1:1396] 4.52 2.52 9.52 1.52 10.52 ...
 $ y            : num [1:1396] 1.371 1.203 1.614 0.217 0.583 ...
 $ cluster_id   : int [1:1396] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 696 237 869 460 533
 $ log_Nj_sample: num [1:5] 0.538 -0.539 0.76 0.124 0.271
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 50pct, model negbin"
[1] "2017-05-04 11:01:18 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 13.11 seconds (Warm-up)
               2.53 seconds (Sampling)
               15.64 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 13.33 seconds (Warm-up)
               4.78 seconds (Sampling)
               18.11 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 11.42 seconds (Warm-up)
               2.55 seconds (Sampling)
               13.97 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 14.64 seconds (Warm-up)
               3.48 seconds (Sampling)
               18.12 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:02:25 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:02:29 EDT"
[1] "done making samps"
[1] "2017-05-04 11:02:29 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:02:35 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:02:35 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:02:35 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.0732 0.5285 -0.0413 0.2273 1.228 ...
 $ se_mean: num  0.01332 0.01668 0.00932 0.01365 0.01966 ...
 $ sd     : num  0.529 0.722 0.273 0.48 0.629 ...
 $ 2.5%   : num  -0.143 -0.875 -0.577 -0.883 0.54 ...
 $ 25%    : num  0.7818 0.0565 -0.1862 -0.0406 0.8324 ...
 $ 50%    : num  1.1206 0.5201 -0.0521 0.2423 1.0691 ...
 $ 75%    : num  1.415 1.032 0.103 0.513 1.435 ...
 $ 97.5%  : num  2.002 1.856 0.517 1.162 2.793 ...
 $ n_eff  : num  1577 1875 856 1240 1023 ...
 $ Rhat   : num  1.002 0.999 1.003 1.001 1.002 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 48777.891000 1.118440e+04 2.630032e+04 4.201575e+04 48792.500000
2 ybar_new     1.234117 5.513879e-01 3.888729e-02 9.271516e-01     1.270609
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 5, num.units = 0.5"
[1] "2017-05-04 11:03:24 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:03:24 EDT"
List of 8
 $ J            : num 100
 $ K            : num 5
 $ n            : num 1396
 $ x            : num [1:1396] 4.52 2.52 9.52 1.52 10.52 ...
 $ y            : num [1:1396] 1.371 1.203 1.614 0.217 0.583 ...
 $ cluster_id   : int [1:1396] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 696 237 869 460 533
 $ log_Nj_sample: num [1:5] 0.538 -0.539 0.76 0.124 0.271
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 50pct, model lognormal"
[1] "2017-05-04 11:03:24 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 18.62 seconds (Warm-up)
               9.75 seconds (Sampling)
               28.37 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 10.67 seconds (Warm-up)
               4.72 seconds (Sampling)
               15.39 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 12.51 seconds (Warm-up)
               2.63 seconds (Sampling)
               15.14 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 13.87 seconds (Warm-up)
               4.99 seconds (Sampling)
               18.86 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:04:42 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:04:46 EDT"
[1] "done making samps"
[1] "2017-05-04 11:04:46 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:04:52 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:04:52 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:04:52 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.07 0.534 -0.052 0.241 1.221 ...
 $ se_mean: num  0.01574 0.01725 0.00911 0.01298 0.01905 ...
 $ sd     : num  0.514 0.738 0.265 0.458 0.625 ...
 $ 2.5%   : num  -0.0795 -0.9684 -0.5937 -0.7126 0.5504 ...
 $ 25%    : num  0.7911 0.0703 -0.1874 -0.0158 0.8233 ...
 $ 50%    : num  1.1131 0.5349 -0.0549 0.2542 1.0724 ...
 $ 75%    : num  1.3899 0.9993 0.0764 0.5154 1.4423 ...
 $ 97.5%  : num  1.997 1.97 0.485 1.117 2.695 ...
 $ n_eff  : num  1067 1828 845 1245 1078 ...
 $ Rhat   : num  1.002 0.999 1.001 1.002 1.001 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025         p25          p50
     <chr>        <dbl>        <dbl>        <dbl>       <dbl>        <dbl>
1    N_new 40108.420852 1.757965e+04 4395.3202407 29571.11361 40542.610451
2 ybar_new     1.440557 7.920598e-01   -0.0794403     1.04593     1.406256
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 5, num.units = 0.5"
[1] "2017-05-04 11:05:42 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:05:42 EDT"
List of 8
 $ J            : num 100
 $ K            : num 5
 $ n            : num 1396
 $ x            : num [1:1396] 4.52 2.52 9.52 1.52 10.52 ...
 $ y            : num [1:1396] 1.371 1.203 1.614 0.217 0.583 ...
 $ cluster_id   : int [1:1396] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 696 237 869 460 533
 $ log_Nj_sample: num [1:5] 0.538 -0.539 0.76 0.124 0.271
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 50pct, model knowsizes"
[1] "2017-05-04 11:05:42 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 5.57 seconds (Warm-up)
               2.42 seconds (Sampling)
               7.99 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 8.6 seconds (Warm-up)
               2.35 seconds (Sampling)
               10.95 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 9.76 seconds (Warm-up)
               2 seconds (Sampling)
               11.76 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 11.58 seconds (Warm-up)
               2.3 seconds (Sampling)
               13.88 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:06:27 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:06:31 EDT"
[1] "done making samps"
[1] "2017-05-04 11:06:31 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:06:38 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:06:38 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:06:38 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.056 0.517 -0.064 0.248 1.253 ...
 $ se_mean: num  0.01422 0.01681 0.00649 0.0125 0.02061 ...
 $ sd     : num  0.533 0.752 0.247 0.438 0.645 ...
 $ 2.5%   : num  -0.194 -0.991 -0.596 -0.665 0.557 ...
 $ 25%    : num  0.78193 0.0337 -0.1996 -0.00499 0.83261 ...
 $ 50%    : num  1.1039 0.5364 -0.0572 0.2534 1.0903 ...
 $ 75%    : num  1.4032 1.0335 0.0746 0.5041 1.4876 ...
 $ 97.5%  : num  1.962 1.971 0.426 1.122 2.799 ...
 $ n_eff  : num  1406 2000 1442 1227 979 ...
 $ Rhat   : num  1 0.999 1 0.999 1.001 ...
NULL
[1] "summarizing draws"
      mean        sd        p025       p25      p50      p75     p975    truth
1 1.232829 0.5268546 -0.04953127 0.9548943 1.297775 1.582463 2.108913 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 5, num.units = 0.5"
[1] "2017-05-04 11:06:42 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:06:42 EDT"
List of 12
 $ J            : num 100
 $ K            : num 5
 $ n            : num 1396
 $ N            : num 47251
 $ M            : int 5
 $ x            : num [1:1396] 4.52 2.52 9.52 1.52 10.52 ...
 $ y            : num [1:1396] 1.371 1.203 1.614 0.217 0.583 ...
 $ cluster_id   : int [1:1396] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:5] 696 237 869 460 533
 $ log_Nj_sample: num [1:5] 0.538 -0.539 0.76 0.124 0.271
 $ Nj_unique    : num [1:5] 237 460 533 696 869
 $ M_counts     : int [1:5] 1 1 1 1 1
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 5, num.units = 50pct, model bb"
[1] "2017-05-04 11:06:42 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 14.03 seconds (Warm-up)
               2.44 seconds (Sampling)
               16.47 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 15.64 seconds (Warm-up)
               2.25 seconds (Sampling)
               17.89 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 9.61 seconds (Warm-up)
               2.47 seconds (Sampling)
               12.08 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 14.71 seconds (Warm-up)
               2.56 seconds (Sampling)
               17.27 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:07:46 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:07:51 EDT"
'data.frame':	2000 obs. of  5 variables:
 $ phi_star.1: num  0.494 0.107 0.214 0.499 0.456 ...
 $ phi_star.2: num  0.3236 0.3208 0.2924 0.2077 0.0713 ...
 $ phi_star.3: num  0.0519 0.1291 0.1628 0.0834 0.1845 ...
 $ phi_star.4: num  0.0959 0.1026 0.2156 0.1757 0.2005 ...
 $ phi_star.5: num  0.0347 0.3402 0.1148 0.0337 0.0875 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	10000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.494 0.107 0.214 0.499 0.456 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 5
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	5 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 11:07:51 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:07:57 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:07:57 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:07:57 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.0632 0.5034 -0.0604 0.2402 1.2306 ...
 $ se_mean: num  0.01154 0.0162 0.00809 0.01274 0.01641 ...
 $ sd     : num  0.516 0.724 0.264 0.492 0.607 ...
 $ 2.5%   : num  -0.108 -0.987 -0.587 -0.824 0.544 ...
 $ 25%    : num  0.7702 0.04628 -0.2012 -0.00847 0.82541 ...
 $ 50%    : num  1.1055 0.5385 -0.0585 0.2604 1.0884 ...
 $ 75%    : num  1.3877 0.9767 0.0809 0.5328 1.4788 ...
 $ 97.5%  : num  2.012 1.881 0.471 1.188 2.811 ...
 $ n_eff  : num  2000 2000 1065 1491 1370 ...
 $ Rhat   : num  1.001 1 1.003 0.999 1.003 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 47262.794000 6560.4059732 3.513825e+04 4.264775e+04 47210.500000
2 ybar_new     1.170401    0.5127479 5.155993e-02 8.924202e-01     1.228004
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 11:08:51 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.47 (9653.99)"
[1] "GREG 8.6.1 estimate (se): 1.47 (0.41)"
[1] "GREG 8.9.8 estimate (se): 1.47 (0.41)"
[1] "OLD HT estimate (se): 1.47 (0.43)"
[1] "OLD GREG estimate (se): 1.32 (0.23)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 10 clusters, 0.5 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 11:08:51 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 10, num.units = 0.5"
[1] "2017-05-04 11:08:52 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:08:52 EDT"
List of 6
 $ J         : num 100
 $ K         : num 10
 $ n         : num 3584
 $ x         : num [1:3584] -1.48 -10.48 12.52 -7.48 1.52 ...
 $ y         : num [1:3584] 1.576 1.95 -0.632 1.707 1.028 ...
 $ cluster_id: int [1:3584] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 50pct, model cluster_inds_only"
[1] "2017-05-04 11:08:52 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 11.75 seconds (Warm-up)
               6.09 seconds (Sampling)
               17.84 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 21.7 seconds (Warm-up)
               6.37 seconds (Sampling)
               28.07 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 16.92 seconds (Warm-up)
               5.75 seconds (Sampling)
               22.67 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 10.96 seconds (Warm-up)
               6.02 seconds (Sampling)
               16.98 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:10:19 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:10:30 EDT"
[1] "done making samps"
[1] "2017-05-04 11:10:30 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:10:45 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:10:45 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:10:45 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.232 -0.026 0.819 0.219 0.677
 $ se_mean: num  0.00584 0.001636 0.007127 0.001402 0.000178
 $ sd     : num  0.26118 0.07316 0.24138 0.0627 0.00797
 $ 2.5%   : num  0.69 -0.178 0.505 0.133 0.662
 $ 25%    : num  1.0633 -0.0671 0.6547 0.175 0.6724
 $ 50%    : num  1.2376 -0.0245 0.7702 0.2078 0.6772
 $ 75%    : num  1.399 0.0179 0.9214 0.2499 0.6827
 $ 97.5%  : num  1.738 0.118 1.417 0.378 0.693
 $ n_eff  : num  2000 2000 1147 2000 2000
 $ Rhat   : num  1.001 1.002 1 1 0.999
NULL
[1] "summarizing draws"
      mean       sd      p025      p25      p50      p75     p975    truth
1 1.222097 0.232673 0.7298757 1.075203 1.231526 1.372455 1.656511 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 10, num.units = 0.5"
[1] "2017-05-04 11:10:50 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:10:50 EDT"
List of 8
 $ J            : num 100
 $ K            : num 10
 $ n            : num 3584
 $ x            : num [1:3584] -1.48 -10.48 12.52 -7.48 1.52 ...
 $ y            : num [1:3584] 1.576 1.95 -0.632 1.707 1.028 ...
 $ cluster_id   : int [1:3584] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 925 610 590 302 692 ...
 $ log_Nj_sample: num [1:10] 0.823 0.406 0.373 -0.297 0.532 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 50pct, model negbin"
[1] "2017-05-04 11:10:50 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 15.45 seconds (Warm-up)
               6.96 seconds (Sampling)
               22.41 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 24.64 seconds (Warm-up)
               6.04 seconds (Sampling)
               30.68 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 21.36 seconds (Warm-up)
               6.3 seconds (Sampling)
               27.66 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 27.91 seconds (Warm-up)
               6.64 seconds (Sampling)
               34.55 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:12:47 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:12:58 EDT"
[1] "done making samps"
[1] "2017-05-04 11:12:58 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:13:14 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:13:14 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:13:14 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.392 -0.338 0.03 -0.12 0.788 ...
 $ se_mean: num  0.00854 0.01188 0.00297 0.00439 0.00637 ...
 $ sd     : num  0.3165 0.4625 0.0992 0.1495 0.2251 ...
 $ 2.5%   : num  0.71 -1.196 -0.164 -0.409 0.475 ...
 $ 25%    : num  1.2025 -0.6434 -0.0274 -0.2102 0.6322 ...
 $ 50%    : num  1.4041 -0.3653 0.0319 -0.1217 0.7471 ...
 $ 75%    : num  1.6027 -0.0502 0.0891 -0.0332 0.9007 ...
 $ 97.5%  : num  1.957 0.663 0.231 0.186 1.342 ...
 $ n_eff  : num  1374 1516 1118 1161 1250 ...
 $ Rhat   : num  0.999 0.999 1.005 1.003 1.001 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param        mean           sd         p025          p25          p50
     <chr>       <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 60596.56950 9390.1687878 4.175835e+04 54613.000000 60615.500000
2 ybar_new     1.29108    0.2618855 7.092194e-01     1.140313     1.310133
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 10, num.units = 0.5"
[1] "2017-05-04 11:14:04 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:14:04 EDT"
List of 8
 $ J            : num 100
 $ K            : num 10
 $ n            : num 3584
 $ x            : num [1:3584] -1.48 -10.48 12.52 -7.48 1.52 ...
 $ y            : num [1:3584] 1.576 1.95 -0.632 1.707 1.028 ...
 $ cluster_id   : int [1:3584] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 925 610 590 302 692 ...
 $ log_Nj_sample: num [1:10] 0.823 0.406 0.373 -0.297 0.532 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 50pct, model lognormal"
[1] "2017-05-04 11:14:04 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 31.98 seconds (Warm-up)
               6.47 seconds (Sampling)
               38.45 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 23.93 seconds (Warm-up)
               6.06 seconds (Sampling)
               29.99 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 19.17 seconds (Warm-up)
               6.73 seconds (Sampling)
               25.9 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 26.4 seconds (Warm-up)
               8.79 seconds (Sampling)
               35.19 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:16:16 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:16:26 EDT"
[1] "done making samps"
[1] "2017-05-04 11:16:26 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:16:42 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:16:42 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:16:42 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.384 -0.328 0.034 -0.128 0.797 ...
 $ se_mean: num  0.01073 0.0145 0.00365 0.00521 0.00686 ...
 $ sd     : num  0.333 0.475 0.105 0.161 0.236 ...
 $ 2.5%   : num  0.673 -1.279 -0.175 -0.442 0.475 ...
 $ 25%    : num  1.1758 -0.6222 -0.0303 -0.2258 0.6339 ...
 $ 50%    : num  1.397 -0.337 0.036 -0.129 0.753 ...
 $ 75%    : num  1.5966 -0.033 0.1005 -0.0292 0.9154 ...
 $ 97.5%  : num  2.017 0.62 0.244 0.19 1.37 ...
 $ n_eff  : num  962 1072 831 949 1180 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 56877.906862 1.051124e+04 3.685446e+04 49701.341744 56445.511318
2 ybar_new     1.258606 2.666003e-01 7.051008e-01     1.088762     1.281775
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 10, num.units = 0.5"
[1] "2017-05-04 11:17:33 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:17:33 EDT"
List of 8
 $ J            : num 100
 $ K            : num 10
 $ n            : num 3584
 $ x            : num [1:3584] -1.48 -10.48 12.52 -7.48 1.52 ...
 $ y            : num [1:3584] 1.576 1.95 -0.632 1.707 1.028 ...
 $ cluster_id   : int [1:3584] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 925 610 590 302 692 ...
 $ log_Nj_sample: num [1:10] 0.823 0.406 0.373 -0.297 0.532 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 50pct, model knowsizes"
[1] "2017-05-04 11:17:33 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 23.97 seconds (Warm-up)
               11.75 seconds (Sampling)
               35.72 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 28.12 seconds (Warm-up)
               9.54 seconds (Sampling)
               37.66 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 25.32 seconds (Warm-up)
               10.08 seconds (Sampling)
               35.4 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 18.81 seconds (Warm-up)
               6.3 seconds (Sampling)
               25.11 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:19:49 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:20:00 EDT"
[1] "done making samps"
[1] "2017-05-04 11:20:00 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:20:16 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:20:16 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:20:16 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.3852 -0.34 0.0306 -0.1255 0.8022 ...
 $ se_mean: num  0.01128 0.01418 0.00318 0.00486 0.00851 ...
 $ sd     : num  0.335 0.463 0.101 0.157 0.265 ...
 $ 2.5%   : num  0.676 -1.199 -0.174 -0.436 0.478 ...
 $ 25%    : num  1.187 -0.636 -0.032 -0.225 0.626 ...
 $ 50%    : num  1.392 -0.3656 0.0327 -0.1263 0.7448 ...
 $ 75%    : num  1.6041 -0.0667 0.0944 -0.0329 0.9112 ...
 $ 97.5%  : num  1.991 0.635 0.229 0.178 1.49 ...
 $ n_eff  : num  881 1067 1014 1048 972 ...
 $ Rhat   : num  1.007 1.004 1.002 0.999 1.004 ...
NULL
[1] "summarizing draws"
      mean      sd      p025      p25      p50      p75     p975    truth
1 1.284075 0.25515 0.7662516 1.130458 1.296275 1.447236 1.752804 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 10, num.units = 0.5"
[1] "2017-05-04 11:20:21 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:20:21 EDT"
List of 12
 $ J            : num 100
 $ K            : num 10
 $ n            : num 3584
 $ N            : num 47251
 $ M            : int 10
 $ x            : num [1:3584] -1.48 -10.48 12.52 -7.48 1.52 ...
 $ y            : num [1:3584] 1.576 1.95 -0.632 1.707 1.028 ...
 $ cluster_id   : int [1:3584] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:10] 925 610 590 302 692 ...
 $ log_Nj_sample: num [1:10] 0.823 0.406 0.373 -0.297 0.532 ...
 $ Nj_unique    : num [1:10] 294 302 556 590 610 ...
 $ M_counts     : int [1:10] 1 1 1 1 1 1 1 1 1 1
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 10, num.units = 50pct, model bb"
[1] "2017-05-04 11:20:21 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 36.96 seconds (Warm-up)
               9.52 seconds (Sampling)
               46.48 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 36.85 seconds (Warm-up)
               8.51 seconds (Sampling)
               45.36 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 27.57 seconds (Warm-up)
               6.01 seconds (Sampling)
               33.58 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 40.43 seconds (Warm-up)
               6.32 seconds (Sampling)
               46.75 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:23:15 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:23:26 EDT"
'data.frame':	2000 obs. of  10 variables:
 $ phi_star.1 : num  0.396 0.334 0.226 0.227 0.249 ...
 $ phi_star.2 : num  0.118 0.219 0.169 0.167 0.155 ...
 $ phi_star.3 : num  0.0452 0.0873 0.077 0.1294 0.0626 ...
 $ phi_star.4 : num  0.1032 0.0911 0.073 0.0976 0.1958 ...
 $ phi_star.5 : num  0.112 0.0377 0.0995 0.1035 0.0116 ...
 $ phi_star.6 : num  0.0743 0.0458 0.1842 0.0911 0.0645 ...
 $ phi_star.7 : num  0.00595 0.03003 0.02069 0.03883 0.14063 ...
 $ phi_star.8 : num  0.0775 0.0918 0.0412 0.0185 0.0618 ...
 $ phi_star.9 : num  0.0514 0.0368 0.0155 0.068 0.0266 ...
 $ phi_star.10: num  0.0165 0.0262 0.0938 0.0592 0.0318 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	20000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.396 0.334 0.226 0.227 0.249 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 10
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
  ..$ : int  10000 10001 10002 10003 10004 10005 10006 10007 10008 10009 ...
  ..$ : int  12000 12001 12002 12003 12004 12005 12006 12007 12008 12009 ...
  ..$ : int  14000 14001 14002 14003 14004 14005 14006 14007 14008 14009 ...
  ..$ : int  16000 16001 16002 16003 16004 16005 16006 16007 16008 16009 ...
  ..$ : int  18000 18001 18002 18003 18004 18005 18006 18007 18008 18009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	10 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5 6 7 8 9 10
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 11:23:26 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:23:41 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:23:41 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:23:41 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.3902 -0.3238 0.0307 -0.123 0.7908 ...
 $ se_mean: num  0.00925 0.01208 0.00296 0.00457 0.00717 ...
 $ sd     : num  0.3241 0.4585 0.0992 0.1494 0.2431 ...
 $ 2.5%   : num  0.742 -1.231 -0.17 -0.413 0.472 ...
 $ 25%    : num  1.1899 -0.6301 -0.0321 -0.2189 0.6204 ...
 $ 50%    : num  1.4 -0.321 0.031 -0.123 0.741 ...
 $ 75%    : num  1.5974 -0.0193 0.0941 -0.0302 0.9035 ...
 $ 97.5%  : num  1.99 0.585 0.227 0.188 1.394 ...
 $ n_eff  : num  1229 1440 1125 1068 1151 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 57805.693000 6098.2081526 4.697442e+04 53412.000000 57475.000000
2 ybar_new     1.315742    0.2635321 7.915576e-01     1.148432     1.325476
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 11:24:35 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.29 (4452.93)"
[1] "GREG 8.6.1 estimate (se): 1.29 (0.19)"
[1] "GREG 8.9.8 estimate (se): 1.29 (0.2)"
[1] "OLD HT estimate (se): 1.29 (0.21)"
[1] "OLD GREG estimate (se): 1.27 (0.22)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 20 clusters, 0.5 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 11:24:46 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 20, num.units = 0.5"
[1] "2017-05-04 11:24:46 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:24:46 EDT"
List of 6
 $ J         : num 100
 $ K         : num 20
 $ n         : num 6615
 $ x         : num [1:6615] -8.48 10.52 -8.48 -9.48 8.52 ...
 $ y         : num [1:6615] 1.083 0.426 -0.525 1.368 1.559 ...
 $ cluster_id: int [1:6615] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 50pct, model cluster_inds_only"
[1] "2017-05-04 11:24:46 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 32.75 seconds (Warm-up)
               11.74 seconds (Sampling)
               44.49 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 27.29 seconds (Warm-up)
               11.31 seconds (Sampling)
               38.6 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 24.4 seconds (Warm-up)
               11.74 seconds (Sampling)
               36.14 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 23.22 seconds (Warm-up)
               11.23 seconds (Sampling)
               34.45 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:27:25 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:27:44 EDT"
[1] "done making samps"
[1] "2017-05-04 11:27:44 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:28:11 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:28:11 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:28:11 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.4071 -0.0282 0.8769 0.2481 0.6656
 $ se_mean: num  0.00452 0.001237 0.003406 0.000989 0.000127
 $ sd     : num  0.20215 0.0553 0.15232 0.04425 0.00567
 $ 2.5%   : num  0.99 -0.135 0.652 0.178 0.655
 $ 25%    : num  1.2826 -0.0655 0.7696 0.2166 0.6618
 $ 50%    : num  1.4114 -0.0286 0.8525 0.2419 0.6656
 $ 75%    : num  1.5412 0.0112 0.9595 0.275 0.6693
 $ 97.5%  : num  1.7875 0.0784 1.2367 0.3511 0.6768
 $ n_eff  : num  2000 2000 2000 2000 2000
 $ Rhat   : num  0.999 0.998 1 1 1
NULL
[1] "summarizing draws"
      mean        sd     p025      p25      p50      p75     p975    truth
1 1.398475 0.1702565 1.042243 1.292441 1.405027 1.510589 1.725165 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 20, num.units = 0.5"
[1] "2017-05-04 11:28:17 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:28:17 EDT"
List of 8
 $ J            : num 100
 $ K            : num 20
 $ n            : num 6615
 $ x            : num [1:6615] -8.48 10.52 -8.48 -9.48 8.52 ...
 $ y            : num [1:6615] 1.083 0.426 -0.525 1.368 1.559 ...
 $ cluster_id   : int [1:6615] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 798 590 762 311 1120 821 197 281 503 614 ...
 $ log_Nj_sample: num [1:20] 0.675 0.373 0.629 -0.267 1.014 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 50pct, model negbin"
[1] "2017-05-04 11:28:17 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 39.16 seconds (Warm-up)
               12.42 seconds (Sampling)
               51.58 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 33.71 seconds (Warm-up)
               11.65 seconds (Sampling)
               45.36 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 44.82 seconds (Warm-up)
               12 seconds (Sampling)
               56.82 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 42.98 seconds (Warm-up)
               12.8 seconds (Sampling)
               55.78 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:31:51 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:32:12 EDT"
[1] "done making samps"
[1] "2017-05-04 11:32:12 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:32:40 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:32:40 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:32:40 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.5077 -0.2875 -0.0156 -0.0273 0.8708 ...
 $ se_mean: num  0.00747 0.01086 0.00214 0.00312 0.00361 ...
 $ sd     : num  0.235 0.373 0.076 0.118 0.161 ...
 $ 2.5%   : num  1.029 -1.02 -0.159 -0.254 0.618 ...
 $ 25%    : num  1.3549 -0.5252 -0.0664 -0.1056 0.7557 ...
 $ 50%    : num  1.5138 -0.2903 -0.0158 -0.0253 0.8501 ...
 $ 75%    : num  1.6686 -0.0403 0.032 0.0523 0.9613 ...
 $ 97.5%  : num  1.951 0.442 0.141 0.197 1.249 ...
 $ n_eff  : num  985 1181 1260 1424 2000 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 54791.554500 6200.8453886 42020.750000 50657.000000 54828.000000
2 ybar_new     1.422054    0.1837478     1.063897     1.305667     1.421928
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 20, num.units = 0.5"
[1] "2017-05-04 11:33:31 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:33:31 EDT"
List of 8
 $ J            : num 100
 $ K            : num 20
 $ n            : num 6615
 $ x            : num [1:6615] -8.48 10.52 -8.48 -9.48 8.52 ...
 $ y            : num [1:6615] 1.083 0.426 -0.525 1.368 1.559 ...
 $ cluster_id   : int [1:6615] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 798 590 762 311 1120 821 197 281 503 614 ...
 $ log_Nj_sample: num [1:20] 0.675 0.373 0.629 -0.267 1.014 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 50pct, model lognormal"
[1] "2017-05-04 11:33:31 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 49.22 seconds (Warm-up)
               11.78 seconds (Sampling)
               61 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 36.79 seconds (Warm-up)
               11.98 seconds (Sampling)
               48.77 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 48.6 seconds (Warm-up)
               12.23 seconds (Sampling)
               60.83 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 44.3 seconds (Warm-up)
               12.08 seconds (Sampling)
               56.38 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:37:23 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:37:42 EDT"
[1] "done making samps"
[1] "2017-05-04 11:37:42 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:38:11 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:38:11 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:38:11 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.5163 -0.2953 -0.0129 -0.0343 0.8682 ...
 $ se_mean: num  0.00634 0.00982 0.00176 0.00314 0.00354 ...
 $ sd     : num  0.2357 0.372 0.0684 0.1122 0.1584 ...
 $ 2.5%   : num  1.044 -0.985 -0.14 -0.26 0.613 ...
 $ 25%    : num  1.3576 -0.5508 -0.0588 -0.1099 0.7577 ...
 $ 50%    : num  1.5217 -0.2964 -0.0155 -0.0347 0.8437 ...
 $ 75%    : num  1.6759 -0.0488 0.0312 0.0432 0.9551 ...
 $ 97.5%  : num  1.963 0.443 0.127 0.179 1.242 ...
 $ n_eff  : num  1383 1436 1510 1275 2000 ...
 $ Rhat   : num  1.002 1.004 1 0.999 1.002 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param        mean           sd         p025          p25          p50
     <chr>       <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 53736.36157 6145.7048678 41741.450055 49891.871199 53588.627862
2 ybar_new     1.42469    0.1815517     1.056454     1.310383     1.430321
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 20, num.units = 0.5"
[1] "2017-05-04 11:39:01 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:39:01 EDT"
List of 8
 $ J            : num 100
 $ K            : num 20
 $ n            : num 6615
 $ x            : num [1:6615] -8.48 10.52 -8.48 -9.48 8.52 ...
 $ y            : num [1:6615] 1.083 0.426 -0.525 1.368 1.559 ...
 $ cluster_id   : int [1:6615] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 798 590 762 311 1120 821 197 281 503 614 ...
 $ log_Nj_sample: num [1:20] 0.675 0.373 0.629 -0.267 1.014 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 50pct, model knowsizes"
[1] "2017-05-04 11:39:01 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 21.73 seconds (Warm-up)
               11.39 seconds (Sampling)
               33.12 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 22.81 seconds (Warm-up)
               11.51 seconds (Sampling)
               34.32 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 29.57 seconds (Warm-up)
               12.09 seconds (Sampling)
               41.66 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 28.79 seconds (Warm-up)
               11.86 seconds (Sampling)
               40.65 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:41:36 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:41:54 EDT"
[1] "done making samps"
[1] "2017-05-04 11:41:54 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:42:22 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:42:22 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:42:22 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.5185 -0.3088 -0.0174 -0.0253 0.8713 ...
 $ se_mean: num  0.00516 0.00808 0.00191 0.00316 0.0038 ...
 $ sd     : num  0.2309 0.3614 0.0729 0.117 0.1697 ...
 $ 2.5%   : num  1.038 -1.011 -0.166 -0.257 0.615 ...
 $ 25%    : num  1.3694 -0.5415 -0.0643 -0.1019 0.7525 ...
 $ 50%    : num  1.5203 -0.3114 -0.016 -0.0245 0.8515 ...
 $ 75%    : num  1.6681 -0.0742 0.029 0.0491 0.9646 ...
 $ 97.5%  : num  1.963 0.402 0.128 0.22 1.276 ...
 $ n_eff  : num  2000 2000 1461 1372 2000 ...
 $ Rhat   : num  1 1 0.999 0.999 1 ...
NULL
[1] "summarizing draws"
      mean        sd     p025      p25      p50      p75     p975    truth
1 1.437175 0.1694338 1.091074 1.330822 1.437601 1.550309 1.766726 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 20, num.units = 0.5"
[1] "2017-05-04 11:42:28 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:42:28 EDT"
List of 12
 $ J            : num 100
 $ K            : num 20
 $ n            : num 6615
 $ N            : num 47251
 $ M            : int 20
 $ x            : num [1:6615] -8.48 10.52 -8.48 -9.48 8.52 ...
 $ y            : num [1:6615] 1.083 0.426 -0.525 1.368 1.559 ...
 $ cluster_id   : int [1:6615] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:20] 798 590 762 311 1120 821 197 281 503 614 ...
 $ log_Nj_sample: num [1:20] 0.675 0.373 0.629 -0.267 1.014 ...
 $ Nj_unique    : num [1:20] 197 281 290 311 431 503 533 553 583 590 ...
 $ M_counts     : int [1:20] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 20, num.units = 50pct, model bb"
[1] "2017-05-04 11:42:28 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 63.47 seconds (Warm-up)
               12.21 seconds (Sampling)
               75.68 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 59.41 seconds (Warm-up)
               12.2 seconds (Sampling)
               71.61 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 70.85 seconds (Warm-up)
               12.14 seconds (Sampling)
               82.99 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 70.22 seconds (Warm-up)
               12.57 seconds (Sampling)
               82.79 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:47:47 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:48:06 EDT"
'data.frame':	2000 obs. of  20 variables:
 $ phi_star.1 : num  0.0739 0.0164 0.0773 0.0504 0.3041 ...
 $ phi_star.2 : num  0.2166 0.0444 0.1882 0.1191 0.1569 ...
 $ phi_star.3 : num  0.1302 0.3001 0.1 0.0374 0.0313 ...
 $ phi_star.4 : num  0.1375 0.167 0.0834 0.1164 0.0355 ...
 $ phi_star.5 : num  0.053 0.0489 0.0418 0.0629 0.0503 ...
 $ phi_star.6 : num  0.0156 0.021 0.0225 0.0783 0.1184 ...
 $ phi_star.7 : num  0.0754 0.0132 0.0301 0.0282 0.0363 ...
 $ phi_star.8 : num  0.0661 0.0766 0.1163 0.0284 0.0237 ...
 $ phi_star.9 : num  0.022 0.0319 0.0724 0.1423 0.0186 ...
 $ phi_star.10: num  0.0424 0.0079 0.02006 0.00611 0.01891 ...
 $ phi_star.11: num  0.01596 0.0445 0.01131 0.038 0.00301 ...
 $ phi_star.12: num  0.0282 0.0798 0.0381 0.0872 0.0257 ...
 $ phi_star.13: num  0.0347 0.018 0.0769 0.0256 0.0234 ...
 $ phi_star.14: num  0.0146 0.018 0.0217 0.03 0.0373 ...
 $ phi_star.15: num  0.0192 0.0229 0.0138 0.0514 0.0462 ...
 $ phi_star.16: num  0.00786 0.02006 0.01786 0.0094 0.03008 ...
 $ phi_star.17: num  0.02237 0.03386 0.02415 0.03448 0.00979 ...
 $ phi_star.18: num  0.0141 0.0197 0.0277 0.0174 0.0182 ...
 $ phi_star.19: num  0.00333 0.0121 0.00993 0.01929 0.00156 ...
 $ phi_star.20: num  0.00702 0.00347 0.00656 0.0177 0.01066 ...
NULL
Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':	40000 obs. of  3 variables:
 $ cluster_id: num  1 1 1 1 1 1 1 1 1 1 ...
 $ draw_num  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ phi_star  : num  0.0739 0.0164 0.0773 0.0504 0.3041 ...
 - attr(*, "vars")=List of 1
  ..$ : symbol cluster_id
 - attr(*, "drop")= logi TRUE
 - attr(*, "indices")=List of 20
  ..$ : int  0 1 2 3 4 5 6 7 8 9 ...
  ..$ : int  2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 ...
  ..$ : int  4000 4001 4002 4003 4004 4005 4006 4007 4008 4009 ...
  ..$ : int  6000 6001 6002 6003 6004 6005 6006 6007 6008 6009 ...
  ..$ : int  8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 ...
  ..$ : int  10000 10001 10002 10003 10004 10005 10006 10007 10008 10009 ...
  ..$ : int  12000 12001 12002 12003 12004 12005 12006 12007 12008 12009 ...
  ..$ : int  14000 14001 14002 14003 14004 14005 14006 14007 14008 14009 ...
  ..$ : int  16000 16001 16002 16003 16004 16005 16006 16007 16008 16009 ...
  ..$ : int  18000 18001 18002 18003 18004 18005 18006 18007 18008 18009 ...
  ..$ : int  20000 20001 20002 20003 20004 20005 20006 20007 20008 20009 ...
  ..$ : int  22000 22001 22002 22003 22004 22005 22006 22007 22008 22009 ...
  ..$ : int  24000 24001 24002 24003 24004 24005 24006 24007 24008 24009 ...
  ..$ : int  26000 26001 26002 26003 26004 26005 26006 26007 26008 26009 ...
  ..$ : int  28000 28001 28002 28003 28004 28005 28006 28007 28008 28009 ...
  ..$ : int  30000 30001 30002 30003 30004 30005 30006 30007 30008 30009 ...
  ..$ : int  32000 32001 32002 32003 32004 32005 32006 32007 32008 32009 ...
  ..$ : int  34000 34001 34002 34003 34004 34005 34006 34007 34008 34009 ...
  ..$ : int  36000 36001 36002 36003 36004 36005 36006 36007 36008 36009 ...
  ..$ : int  38000 38001 38002 38003 38004 38005 38006 38007 38008 38009 ...
 - attr(*, "group_sizes")= int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...
 - attr(*, "biggest_group_size")= int 2000
 - attr(*, "labels")='data.frame':	20 obs. of  1 variable:
  ..$ cluster_id: num  1 2 3 4 5 6 7 8 9 10 ...
  ..- attr(*, "vars")=List of 1
  .. ..$ : symbol cluster_id
  ..- attr(*, "drop")= logi TRUE
NULL
[1] "done making samps"
[1] "2017-05-04 11:48:07 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:48:35 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:48:35 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:48:35 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.5237 -0.3054 -0.0166 -0.0265 0.8627 ...
 $ se_mean: num  0.00617 0.00924 0.00186 0.00309 0.00332 ...
 $ sd     : num  0.2274 0.3554 0.0709 0.1145 0.1483 ...
 $ 2.5%   : num  1.05 -0.999 -0.155 -0.249 0.639 ...
 $ 25%    : num  1.3775 -0.5457 -0.0634 -0.1012 0.7544 ...
 $ 50%    : num  1.5252 -0.3096 -0.017 -0.0268 0.8428 ...
 $ 75%    : num  1.6783 -0.0696 0.0322 0.0506 0.9481 ...
 $ 97.5%  : num  1.954 0.412 0.124 0.196 1.205 ...
 $ n_eff  : num  1357 1479 1458 1370 2000 ...
 $ Rhat   : num  0.999 1 1.001 0.999 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 51453.521500 3934.3748754 43798.325000 48879.000000 51385.500000
2 ybar_new     1.450943    0.1728039     1.102485     1.345313     1.452071
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
[1] "Running svy_ests"
[1] "2017-05-04 11:49:32 EDT"
   alpha0 gamma0     alpha1 gamma1 sigma_beta0 sigma_beta1   sigma_y ybar_true
1 1.61535      0 0.01151956      0   0.8130041   0.2459975 0.6696966  1.457017
[1] "**************************************************"
[1] "ybar true: 1.46"
[1] "HT estimate (se): 1.49 (3812.39)"
[1] "GREG 8.6.1 estimate (se): 1.49 (0.16)"
[1] "GREG 8.9.8 estimate (se): 1.49 (0.17)"
[1] "OLD HT estimate (se): 1.49 (0.18)"
[1] "OLD GREG estimate (se): 1.44 (0.2)"
[1] "**************************************************"
[1] "##################################################################################"
[1] "##################################################################################"
[1] "saving results"
[1] "deleting sampled data"
Running in parallel for 30 clusters, 0.5 units, use_sizes = 0 , and continuous outcomes.
Sampling data
[1] "2017-05-04 11:52:30 EDT"
DONE sampling
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = cluster_inds_only, num.clusters = 30, num.units = 0.5"
[1] "2017-05-04 11:52:31 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:52:31 EDT"
List of 6
 $ J         : num 100
 $ K         : num 30
 $ n         : num 10141
 $ x         : num [1:10141] 5.52 -10.48 4.52 2.52 6.52 ...
 $ y         : num [1:10141] 2.348 3.619 1.822 1.306 0.771 ...
 $ cluster_id: int [1:10141] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 50pct, model cluster_inds_only"
[1] "2017-05-04 11:52:31 EDT"

SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 46.19 seconds (Warm-up)
               20.75 seconds (Sampling)
               66.94 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 44 seconds (Warm-up)
               27.18 seconds (Sampling)
               71.18 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 49.42 seconds (Warm-up)
               24.39 seconds (Sampling)
               73.81 seconds (Total)


SAMPLING FOR MODEL 'cluster_inds_only' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 44.21 seconds (Warm-up)
               23.26 seconds (Sampling)
               67.47 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 11:57:21 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 11:57:47 EDT"
[1] "done making samps"
[1] "2017-05-04 11:57:47 EDT"
[1] "done making par_ests"
[1] "2017-05-04 11:58:31 EDT"
[1] "making par_ests"
[1] "2017-05-04 11:58:31 EDT"
[1] "printing par_ests"
[1] "2017-05-04 11:58:31 EDT"
'data.frame':	5 obs. of  10 variables:
 $ mean   : num  1.4535 -0.0237 0.7576 0.2557 0.6725
 $ se_mean: num  0.003636 0.001246 0.002727 0.001092 0.000105
 $ sd     : num  0.13534 0.04664 0.10358 0.03599 0.00468
 $ 2.5%   : num  1.186 -0.117 0.586 0.197 0.663
 $ 25%    : num  1.3669 -0.0546 0.6849 0.2305 0.6693
 $ 50%    : num  1.4566 -0.0222 0.7478 0.2517 0.6723
 $ 75%    : num  1.54356 0.00646 0.81894 0.27643 0.67559
 $ 97.5%  : num  1.7182 0.0702 0.9946 0.3354 0.6815
 $ n_eff  : num  1386 1401 1443 1087 2000
 $ Rhat   : num  1.001 0.999 1.001 0.999 0.999
NULL
[1] "summarizing draws"
      mean        sd     p025      p25      p50      p75     p975    truth
1 1.419395 0.0968744 1.219923 1.355115 1.421731 1.482511 1.609192 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = negbin, num.clusters = 30, num.units = 0.5"
[1] "2017-05-04 11:58:38 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 11:58:38 EDT"
List of 8
 $ J            : num 100
 $ K            : num 30
 $ n            : num 10141
 $ x            : num [1:10141] 5.52 -10.48 4.52 2.52 6.52 ...
 $ y            : num [1:10141] 2.348 3.619 1.822 1.306 0.771 ...
 $ cluster_id   : int [1:10141] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 414 925 261 186 610 ...
 $ log_Nj_sample: num [1:30] 0.0187 0.8226 -0.4427 -0.7814 0.4063 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 50pct, model negbin"
[1] "2017-05-04 11:58:38 EDT"

SAMPLING FOR MODEL 'negbin' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 61.8 seconds (Warm-up)
               19.57 seconds (Sampling)
               81.37 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 56.5 seconds (Warm-up)
               19.56 seconds (Sampling)
               76.06 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 63.59 seconds (Warm-up)
               20.98 seconds (Sampling)
               84.57 seconds (Total)


SAMPLING FOR MODEL 'negbin' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 46.93 seconds (Warm-up)
               18.49 seconds (Sampling)
               65.42 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 12:03:56 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 12:04:24 EDT"
[1] "done making samps"
[1] "2017-05-04 12:04:24 EDT"
[1] "done making par_ests"
[1] "2017-05-04 12:05:09 EDT"
[1] "making par_ests"
[1] "2017-05-04 12:05:09 EDT"
[1] "printing par_ests"
[1] "2017-05-04 12:05:09 EDT"
'data.frame':	11 obs. of  10 variables:
 $ mean   : num  1.56116 -0.29539 0.00746 -0.0873 0.75424 ...
 $ se_mean: num  0.00462 0.00687 0.00179 0.00308 0.00292 ...
 $ sd     : num  0.1669 0.2594 0.0619 0.0944 0.1097 ...
 $ 2.5%   : num  1.226 -0.841 -0.113 -0.267 0.575 ...
 $ 25%    : num  1.454 -0.464 -0.0318 -0.1514 0.6783 ...
 $ 50%    : num  1.56121 -0.28596 0.00598 -0.08674 0.74043 ...
 $ 75%    : num  1.6704 -0.1248 0.0483 -0.0248 0.8161 ...
 $ 97.5%  : num  1.891 0.202 0.125 0.1 1.014 ...
 $ n_eff  : num  1304 1425 1192 938 1405 ...
 $ Rhat   : num  0.999 1 1.002 1.003 1 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025          p25          p50
     <chr>        <dbl>        <dbl>        <dbl>        <dbl>        <dbl>
1    N_new 57294.682500 4829.1540480 47689.350000 54235.000000 57311.000000
2 ybar_new     1.451696    0.1163496     1.211786     1.378951     1.452498
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = lognormal, num.clusters = 30, num.units = 0.5"
[1] "2017-05-04 12:06:01 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 12:06:01 EDT"
List of 8
 $ J            : num 100
 $ K            : num 30
 $ n            : num 10141
 $ x            : num [1:10141] 5.52 -10.48 4.52 2.52 6.52 ...
 $ y            : num [1:10141] 2.348 3.619 1.822 1.306 0.771 ...
 $ cluster_id   : int [1:10141] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 414 925 261 186 610 ...
 $ log_Nj_sample: num [1:30] 0.0187 0.8226 -0.4427 -0.7814 0.4063 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 50pct, model lognormal"
[1] "2017-05-04 12:06:01 EDT"

SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 60.52 seconds (Warm-up)
               17.61 seconds (Sampling)
               78.13 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 65.21 seconds (Warm-up)
               18.18 seconds (Sampling)
               83.39 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 48.32 seconds (Warm-up)
               17.63 seconds (Sampling)
               65.95 seconds (Total)


SAMPLING FOR MODEL 'lognormal' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 49.45 seconds (Warm-up)
               17.59 seconds (Sampling)
               67.04 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 12:11:06 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 12:11:33 EDT"
[1] "done making samps"
[1] "2017-05-04 12:11:34 EDT"
[1] "done making par_ests"
[1] "2017-05-04 12:12:18 EDT"
[1] "making par_ests"
[1] "2017-05-04 12:12:18 EDT"
[1] "printing par_ests"
[1] "2017-05-04 12:12:18 EDT"
'data.frame':	10 obs. of  10 variables:
 $ mean   : num  1.57038 -0.31234 0.00582 -0.08083 0.74117 ...
 $ se_mean: num  0.00409 0.00633 0.00173 0.0026 0.00225 ...
 $ sd     : num  0.1666 0.2547 0.0579 0.093 0.1006 ...
 $ 2.5%   : num  1.253 -0.806 -0.11 -0.261 0.574 ...
 $ 25%    : num  1.4567 -0.4754 -0.0315 -0.1409 0.6717 ...
 $ 50%    : num  1.57053 -0.31497 0.00534 -0.07814 0.73276 ...
 $ 75%    : num  1.6829 -0.1475 0.0424 -0.0234 0.7979 ...
 $ 97.5%  : num  1.886 0.193 0.117 0.111 0.972 ...
 $ n_eff  : num  1660 1618 1120 1282 2000 ...
 $ Rhat   : num  1.001 1.002 1.003 1.003 0.999 ...
NULL
[1] "summarizing draws"
# A tibble: 2 x 9
     param         mean           sd         p025         p25          p50
     <chr>        <dbl>        <dbl>        <dbl>       <dbl>        <dbl>
1    N_new 56709.251996 4635.2032075 47940.399740 53515.62819 56636.487845
2 ybar_new     1.458021    0.1140625     1.231871     1.38027     1.458663
# ... with 3 more variables: p75 <dbl>, p975 <dbl>, truth <dbl>
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = knowsizes, num.clusters = 30, num.units = 0.5"
[1] "2017-05-04 12:13:09 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 12:13:09 EDT"
List of 8
 $ J            : num 100
 $ K            : num 30
 $ n            : num 10141
 $ x            : num [1:10141] 5.52 -10.48 4.52 2.52 6.52 ...
 $ y            : num [1:10141] 2.348 3.619 1.822 1.306 0.771 ...
 $ cluster_id   : int [1:10141] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 414 925 261 186 610 ...
 $ log_Nj_sample: num [1:30] 0.0187 0.8226 -0.4427 -0.7814 0.4063 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 50pct, model knowsizes"
[1] "2017-05-04 12:13:09 EDT"

SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 36.81 seconds (Warm-up)
               17.75 seconds (Sampling)
               54.56 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 49.49 seconds (Warm-up)
               28.06 seconds (Sampling)
               77.55 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 3, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 3, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 3, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 3, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 3, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 3, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 3, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 3, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 3, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 3, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 3, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 45.74 seconds (Warm-up)
               17.55 seconds (Sampling)
               63.29 seconds (Total)


SAMPLING FOR MODEL 'knowsizes' NOW (CHAIN 4).

Chain 4, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 4, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 4, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 4, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 4, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 4, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 4, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 4, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 4, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 4, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 4, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 4, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 43.92 seconds (Warm-up)
               17.25 seconds (Sampling)
               61.17 seconds (Total)

[1] "done fitting stan model"
[1] "2017-05-04 12:17:37 EDT"
[1] "done saving stanfit object"
[1] "2017-05-04 12:18:04 EDT"
[1] "done making samps"
[1] "2017-05-04 12:18:05 EDT"
[1] "done making par_ests"
[1] "2017-05-04 12:18:47 EDT"
[1] "making par_ests"
[1] "2017-05-04 12:18:47 EDT"
[1] "printing par_ests"
[1] "2017-05-04 12:18:47 EDT"
'data.frame':	7 obs. of  10 variables:
 $ mean   : num  1.562 -0.2958 0.0063 -0.0829 0.742 ...
 $ se_mean: num  0.00436 0.00731 0.00177 0.00268 0.00269 ...
 $ sd     : num  0.1646 0.2581 0.0602 0.0931 0.1064 ...
 $ 2.5%   : num  1.241 -0.812 -0.111 -0.274 0.569 ...
 $ 25%    : num  1.4545 -0.4611 -0.0328 -0.1448 0.6671 ...
 $ 50%    : num  1.56191 -0.30173 0.00504 -0.08265 0.72952 ...
 $ 75%    : num  1.6706 -0.1244 0.0437 -0.0239 0.8023 ...
 $ 97.5%  : num  1.885 0.197 0.128 0.102 0.98 ...
 $ n_eff  : num  1424 1245 1159 1207 1565 ...
 $ Rhat   : num  1 1 1 1 1 ...
NULL
[1] "summarizing draws"
      mean        sd     p025      p25     p50      p75     p975    truth
1 1.472418 0.1070004 1.255972 1.402467 1.47184 1.547551 1.675745 1.457017
##################################################################################
##################################################################################
##################################################################################
[1] "Starting to run use.sizes = 0, stanmod = bb, num.clusters = 30, num.units = 0.5"
[1] "2017-05-04 12:18:55 EDT"
R version 3.3.3 (2017-03-06)
Platform: x86_64-redhat-linux-gnu (64-bit)
Running under: Red Hat Enterprise Linux Server release 6.9 (Santiago)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] grid      parallel  methods   stats     graphics  grDevices utils    
[8] datasets  base     

other attached packages:
 [1] Rcpp_0.12.6          sampling_2.8         survey_3.30-3       
 [4] doParallel_1.0.10    iterators_1.0.8      foreach_1.4.3       
 [7] rstan_2.12.1         StanHeaders_2.12.0-1 ggplot2_2.2.1       
[10] lme4_1.1-12          Matrix_1.2-7.1       tidyr_0.6.0         
[13] dplyr_0.5.0          plyr_1.8.4           docopt_0.4.5        

loaded via a namespace (and not attached):
 [1] magrittr_1.5     splines_3.3.3    MASS_7.3-45      munsell_0.4.2   
 [5] colorspace_1.2-4 lattice_0.20-34  R6_2.1.1         minqa_1.2.4     
 [9] stringr_1.1.0    tools_3.3.3      lpSolve_5.6.13   nlme_3.1-131    
[13] gtable_0.1.2     DBI_0.4-1        digest_0.6.10    lazyeval_0.2.0  
[17] assertthat_0.1   tibble_1.1       gridExtra_2.2.1  nloptr_1.0.4    
[21] codetools_0.2-15 inline_0.3.13    labeling_0.2     stringi_1.1.2   
[25] scales_0.4.1     stats4_3.3.3    
[1] "making stan data"
[1] "2017-05-04 12:18:55 EDT"
List of 12
 $ J            : num 100
 $ K            : num 30
 $ n            : num 10141
 $ N            : num 47251
 $ M            : int 30
 $ x            : num [1:10141] 5.52 -10.48 4.52 2.52 6.52 ...
 $ y            : num [1:10141] 2.348 3.619 1.822 1.306 0.771 ...
 $ cluster_id   : int [1:10141] 1 1 1 1 1 1 1 1 1 1 ...
 $ Nj_sample    : num [1:30] 414 925 261 186 610 ...
 $ log_Nj_sample: num [1:30] 0.0187 0.8226 -0.4427 -0.7814 0.4063 ...
 $ Nj_unique    : num [1:30] 186 237 261 290 320 402 414 431 470 569 ...
 $ M_counts     : int [1:30] 1 1 1 1 1 1 1 1 1 1 ...
NULL
[1] "***********************************************************************"
[1] "********** about to run stan for num.clusters = 30, num.units = 50pct, model bb"
[1] "2017-05-04 12:18:55 EDT"

SAMPLING FOR MODEL 'bb' NOW (CHAIN 1).

Chain 1, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 1, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 1, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 1, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 1, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 1, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 1, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 1, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 1, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 1, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 1, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 1, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 89.39 seconds (Warm-up)
               34.5 seconds (Sampling)
               123.89 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 2).

Chain 2, Iteration:   1 / 1000 [  0%]  (Warmup)
Chain 2, Iteration: 100 / 1000 [ 10%]  (Warmup)
Chain 2, Iteration: 200 / 1000 [ 20%]  (Warmup)
Chain 2, Iteration: 300 / 1000 [ 30%]  (Warmup)
Chain 2, Iteration: 400 / 1000 [ 40%]  (Warmup)
Chain 2, Iteration: 500 / 1000 [ 50%]  (Warmup)
Chain 2, Iteration: 501 / 1000 [ 50%]  (Sampling)
Chain 2, Iteration: 600 / 1000 [ 60%]  (Sampling)
Chain 2, Iteration: 700 / 1000 [ 70%]  (Sampling)
Chain 2, Iteration: 800 / 1000 [ 80%]  (Sampling)
Chain 2, Iteration: 900 / 1000 [ 90%]  (Sampling)
Chain 2, Iteration: 1000 / 1000 [100%]  (Sampling)
 Elapsed Time: 92.08 seconds (Warm-up)
               20.46 seconds (Sampling)
               112.54 seconds (Total)


SAMPLING FOR MODEL 'bb' NOW (CHAIN 3).

Chain 3, Iteration:   1 / 1000 [  0%]  (Warmup)